!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/pingan_iot/",a(a.s=13)}([function(e,t,a){"use strict";t.a={currentTime(){let e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes(),r=e.getSeconds();return`${t}-${a>9?a:"0"+a}-${i>9?i:"0"+i} ${n>9?n:"0"+n}:${o>9?o:"0"+o}:${r>9?r:"0"+r}`},dateFormat(e,t){let a;const i={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(let t in i)a=new RegExp("("+t+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?i[t]:i[t].padStart(a[1].length,"0")));return e},getDay(e,t="mm-dd"){let a=new Date,i=a.getTime()+24*e*60*60*1e3;return a.setTime(i),this.dateFormat(t,a)},headerTime(){let e=this.currentTime();$("#J_header_time").text(e);setInterval((function(){$("#J_header_time").text(e)}),1e3)},initMenu(){$("#J_menu_icon").on("click",(function(e){e.stopPropagation(),e.preventDefault(),$("#J_menu").animate({width:200},"fast")})),$(document).on("click",(function(){$("#J_menu").animate({width:0})}))},getDays(){let e=(new Date).getDate(),t=[];for(let a=1;a<=e;a++)t.push(a);return t},getMonth(e){let t=(new Date).getMonth()+1,a=[];for(let i=1;i<=t;i++)a.push(`${i}${e||""}`);return a},getHours(){let e=(new Date).getHours(),t=[];for(let a=0;a<=e;a++)t.push(a<10?`0${a}:00`:a+":00");return t},getMax(e){let t=0;e.map(e=>{t=e.value>t?e.value:t});let a=Math.ceil(t/5);return parseInt(5*a)}}},function(e,t,a){},function(module,exports){!function($,w,d){var win=$(w),docu=$(d),_body=d.body,b=$(_body);$.extend({toJSON:function(e){var t=w.JSON;if("object"==typeof t&&t.stringify)return t.stringify(e);if(null===e)return"null";if("undefined"!=(f=typeof e)){if("number"==f||"boolean"==f)return e+"";if("string"==f)return $.quoteString(e);if("object"==f){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var a=e.getUTCMonth()+1;a<10&&(a="0"+a);var i=e.getUTCDate();i<10&&(i="0"+i);var n=e.getUTCFullYear(),o=e.getUTCHours();o<10&&(o="0"+o);var r=e.getUTCMinutes();r<10&&(r="0"+r);var s=e.getUTCSeconds();s<10&&(s="0"+s);var l=e.getUTCMilliseconds();return l<100&&(l="0"+l),l<10&&(l="0"+l),'"'+n+"-"+a+"-"+i+"T"+o+":"+r+":"+s+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],c=0;c<e.length;c++)d.push($.toJSON(e[c])||"null");return"["+d.join(",")+"]"}var m=[];for(var u in e){var p,f;if("number"==(f=typeof u))p='"'+u+'"';else{if("string"!=f)continue;p=$.quoteString(u)}if("function"!=typeof e[u]){var g=$.toJSON(e[u]);m.push(p+":"+g)}}return"{"+m.join(", ")+"}"}}},quoteString:function(e){return'"'+e+'"'},evalJSON:function(src){var JSON=w.JSON;return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},secureEvalJSON:function(src){var JSON=w.JSON;if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},substitute:function(e,t){return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,(function(e,a,i){return t[a]?t[a]:0===t[a]?"0":""}))},getArgs:function(e){for(var t=(e=e?(e=e.split("?"))[e.length-1]:w.location.search.substring(1)).split("&"),a={},i=0;i<t.length;i++){var n=t[i].indexOf("=");if(-1!=n){var o=t[i].substring(0,n),r=t[i].substring(n+1);if(r=$.decodeURI(r),a[o])if($.isArray(a[o]))a[o].push(r);else{var s=a[o];a[o]=[],a[o].push(s),a[o].push(r)}else a[o]=r}}return a},decodeURI:function(e){return w.decodeURIComponent(e)},encodeURI:function(e){return w.encodeURIComponent(e)},cookie:function(e,t,a){if(void 0===t){var i=null;if(d.cookie&&""!=d.cookie)for(var n=d.cookie.split(";"),o=0;o<n.length;o++){var r=$.trim(n[o]);if(r.substring(0,e.length+1)==e+"="){i=w.decodeURIComponent(r.substring(e.length+1));break}}return i}a=a||{},null===t&&(t="",a.expires=-1);var s,l="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(s=new Date).setTime(s.getTime()+24*a.expires*60*60*1e3):s=a.expires,l="; expires="+s.toUTCString());var c=a.path?"; path="+a.path:"; path=/",m=a.domain?"; domain="+a.domain:"",u=a.secure?"; secure":"";d.cookie=[e,"=",w.encodeURIComponent(t),l,c,m,u].join("")},format:function(e,t){return t||(t=e,e=new Date),"date"!==$.type(e)&&(e=new Date),t.replace(/yyyy/g,e.getFullYear()).replace(/mm/g,("0"+(e.getMonth()+1)).slice(-2)).replace(/dd/g,("0"+e.getDate()).slice(-2)).replace(/HH/g,(function(t,a,i){return("00"+e.getHours()).substr(-2,2)})).replace(/MM/g,("00"+e.getMinutes()).substr(-2,2)).replace(/SS/g,("00"+e.getSeconds()).substr(-2,2)).replace(/W/g,e.getDay())},timestampToTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},service:function(e,t){if(!e||!e.url)return console&&console.log?alert("未填写URL"):console.log("未填写URL"),!1;var a={};$.extend(a,{type:"POST",contentType:"application/x-www-form-urlencoded",dataType:"json",timeout:5e3,action:"post",data:{},error:function(e){}},e),a.url=$.urlmap[e.url],"get"==a.action&&(a.data={data:$.toJSON({header:{},req:e.data})}),a.data.date=(new Date).getTime(),a.success=function(t){try{"get"==a.action&&t.resp?e.success(t.resp):e.success(t)}catch(e){a.error(e)}},t?$.publish("mop.passport.islogin",(function(e){e?$.ajax(a):$.publish("mop.passport.login",[function(){$.publish("mop.passport.userinfo",[function(){$(".m-topbar-left-login").show(),$(".m-topbar-left").hide(),"1"==$("body").attr("flush")&&location.reload()}]),$.ajax(a)}])})):$.ajax(a)},ani:function(e){var t=1e3/(e=$.extend(e,{frame:25})).frame|0,a=0,i=e.duration/t>e.duration/t|0?1+(e.duration/t|0):e.duration/t|0,n=w.setInterval((function(){(++a>i||!e.call(a,i))&&(w.clearInterval(n),e.end&&e.end())}),t)},pop:function(e){e.bullet?e.bullet=$(e.bullet):function(){throw new Error("大虾你要弹出个虾米东西??偶么知道!")}();var t={target:win},a={},i="absolute",n={top:0,left:0};$.extend(a,t,e),a.target==win||a.target==w?(i="fixed",a.target=win):(a.target=$(a.target),n=a.target.offset());var o=function(){var e=n.top+a.target.height()/2-a.bullet.height()/2,t=n.left+a.target.width()/2-a.bullet.width()/2;return a.mask&&(a.mask=$(a.mask).hide().css({position:i,top:n.top,left:n.left,width:0,height:0}).appendTo(b),a.mask.css({width:a.target.width(),height:a.target.height()})),a.bullet.css({position:i,top:e,left:t}).appendTo(b),o.show()};return o.show=function(){a.bullet.show(),a.mask&&a.mask.show(),a.mask.css({width:a.target.width(),height:a.target.height()});var e=n.top+a.target.height()/2-a.bullet.height()/2,t=n.left+a.target.width()/2-a.bullet.width()/2;return a.bullet.css({top:e,left:t}),o},o.hide=function(){return a.bullet.hide(),a.mask&&a.mask.hide(),win.off("resize"),o},win.on("resize",(function(){$(a.mask).is(":visible")?o.show():win.off("resize")})),o()},mousePos:function(e){return{x:(e=e||win.event).clientX+_body.scrollLeft+d.documentElement.scrollLeft,y:e.clientY+_body.scrollTop+d.documentElement.scrollTop}},switchTab:function(e){if(!e.tab)throw new Error("没定义要切换的tab的选择器！");var t={onClass:"on",evt:"click"};$.extend(t,e);var a=$(t.tab),i=t.con?$(t.con):null;a.eq(0).addClass(t.onClass),i.hide(),i.eq(0).show(),a.on(t.evt,(function(){return a.removeClass(t.onClass),$(this).addClass(t.onClass),i&&i.length>0&&(i.hide(),i.eq(a.index($(this))).show()),t.callback&&t.callback($(this),i.eq(a.index($(this)))),!1}))},selectAll:function(e,t,a){var i=$(e),n=$(t);i.click((function(){$(this).attr("checked")?n.each((function(){$(this).attr("checked",!0),$(this).parents(a).addClass("on")})):n.each((function(){$(this).attr("checked",!1),$(this).parents(a).removeClass("on")}))})),n.click((function(){i.attr("checked",!1),$(this).attr("checked")?$(this).parents(a).addClass("on"):$(this).parents(a).removeClass("on")}))},total:function(){var e=0,t=function(){return Number(e).toFixed(2)},a=function(t){$.isNumeric(t)&&(e=(Number(e)+Number(t)).toFixed(2))},i=function(t){$.isNumeric(t)&&(e=(Number(e)-Number(t)).toFixed(2))},n=function(t){$.isNumeric(t)&&(e=(Number(e)*Number(t)).toFixed(2))},o=function(t){if(0==t)throw alert("除数是零吗??"),new Error("除数是零吗??");$.isNumeric(t)&&(e=(Number(e)/Number(t)).toFixed(2))},r=function(){return Number(e).toFixed(2)},s=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){s(t)})):a(t)})),t},l=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){l(t)})):i(t)})),t},d=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){l(t)})):n(t)})),t},c=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){c(t)})):o(t)})),t},m=[];return $.each(arguments,(function(e,t){m.push(t)})),s(m),t.toString=r,t["+"]=t.add=s,t["-"]=t.red=l,t.x=t.mul=d,t["/"]=t.exc=c,t},dialog:function(e,t,a){if(window.parent!=window)window.parent.$.dialog(e,t,a);else{var i={},n={};"object"==typeof t&&(a=t,t=void 0),$.extend(i,{confirm:{literal:"确认",isShow:!0},cancel:{literal:"取消",isShow:!0}},a),n.confirmtxt=i.confirm.literal||"确认",n.canceltxt=i.cancel.literal||"取消",$(".mop-dialog-pop").is(":visible")&&$(".mop-dialog-pop").hide();var o=$(".mop-dialog-mask").size()?$(".mop-dialog-mask"):$('<div class="mop-dialog-mask"></div>').appendTo("body"),r=$(".mop-dialog-pop").size()?$(".mop-dialog-pop").empty().css({width:"inherit",height:"inherit"}).attr("class","mop-dialog-pop pos-a oh br4"):$('<div class="mop-dialog-pop pos-a oh br4"> </div>').appendTo("body").hide();r.html($.substitute('<div class="mop-dialog-border"></div> <div class="mop-dialog-bullet clearfix"> <a href="#" class="fr mop-dialog-close"></a> <div class="tc mop-dialog-main"></div> <div class="mt20 tc mop-dialog-but"> <input type="button" class="mop-dialog-confirm br4" value="${confirmtxt}"><input type="button" class="mop-dialog-cancel br4 hide" value="${canceltxt}"> </div> </div> ',n));var s=r.find(".mop-dialog-main");"string"==typeof e&&i.icon&&(e='<i class="mop-icon mop-icon-'+i.icon+'"></i>'+e),s.html(e);var l=r.find(".mop-dialog-close").add(r.find(".mop-dialog-confirm"));if(i.confirm.isShow?($(".mop-dialog-confirm").show(),r.find(".mop-dialog-confirm").one("click",(function(){"function"==typeof t&&t(!0)}))):$(".mop-dialog-confirm").hide(),"function"==typeof t){if(i.cancel.isShow){var d=$(".mop-dialog-cancel").show();d.add(r.find(".mop-dialog-close")).one("click",(function(){t(!1)})),l=l.add(d)}}else $(".mop-dialog-cancel").hide();var c=$.pop({bullet:r,mask:o});l.one("click",(function(){c.hide()}))}}}),$.fn.extend({slide:function(e){var t={};$.extend(t,{auto:!0,autotime:5e3,item:".item",grope:".grope",indexmain:".indexmain",l:"",r:"",indexdom:"<li></li>",thatindexClass:"on",callback:function(){return!0},end:function(e,t){}},e);var a,i,n,o=$(this);o.find(t.grope).addClass("slide-grope"),o.find(t.item).addClass("slide-item").find("a").on("click",(function(){return!1})),o.find(t.indexmain).addClass("slide-index"),$(this).size()&&$("head").append('<style type="text/css" class="slidestyle">.slide-item{float:left;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}'+(i=o.width(),n="",o.size()>1?o.each((function(e,t){t=$(t).addClass("slide-main"+e);var a=i;t.find(".slide-item").size()<2?n+=".slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}":n+=".slide-main"+e+" .slide-item:first-of-type{ margin-left: -"+a+"px; } .slide-main"+e+" .slide-grope{-webkit-transform: translateX(-"+(t.find(".slide-item").size()>3?a:0)+"px); transform: translateX(-"+(t.find(".slide-item").size()>3?a:0)+"px);}.slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}"})):n+=(a=i,o.find(".slide-item").size()<2?t.grope+" "+t.item+"{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}":t.grope+" "+t.item+":first-of-type{ margin-left: -"+a+"px; } .slide-main "+t.grope+"{-webkit-transform: translateX(-"+(o.find(".slide-item").size()>3?a:0)+"px); transform: translateX(-"+(o.find(".slide-item").size()>3?a:0)+"px);} "+t.grope+" "+t.item+"{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}"),n+"</style>")),o.map((function(e,a){var i=$(a),n=i.offset(),r=i.find(".slide-grope"),s=i.find(".slide-item"),l=o.width(),d=s.size(),c=i.find(".slide-index");if(i.is(".slide-main"))return!1;i.addClass("slide-main"),r.width(l*d).addClass("slides"),c.empty(),s.on("mouseup",(function(e){t.callback($(this),e)&&o.find("a").size()&&(window.location.href=$(this).find("a").attr("href"))})),s.each((function(e,a){$("function"==$.type(t.indexdom)?t.indexdom(e):t.indexdom).appendTo(c).attr("item",e).addClass("slide-indexitem"),$(a).attr("item",e)}));var m=c.find(".slide-indexitem").filter("[item=0]").addClass(t.thatindexClass).end();if(i.find(".slide-item").last().prependTo(r),o.find(".slide-item").size()>3&&i.find(".slide-item").last().prependTo(r),s.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){var e=i.find(".slide-item").eq(1);t.end&&t.end(e.attr("item"),e)})),s.on("vmousedown",(function(e){e.stopPropagation(),e.preventDefault();var a=e.pageX-n.left,o=e.pageY-n.top,s=0,d=0,c=e.pageX,u=$(this),p=!1;$(document).on("vmousemove",(function(e){s=e.pageX-n.left,Math.abs(a-s)>15&&(p=!0),p&&(e.stopPropagation(),e.preventDefault(),r.removeClass("slides").first().css({"margin-left":-1*(a-s)}))})).on("vmouseup",(function(e){return e.stopPropagation(),e.preventDefault(),d=e.pageY-n.top,r.addClass("slides"),i.find(".slide-item").eq(1).css({"margin-left":r.css("margin-left")}),!p&&(u.parents(".slide-grope").find(".slide-item").size()<3?u.is(u.parents(".slide-grope").find(".slide-item").last()):3==u.parents(".slide-grope").find(".slide-item").size()?u.is(u.parents(".slide-grope").find(".slide-item").eq(1)):u.is(u.parents(".slide-grope").find(".slide-item").eq(2)))&&Math.abs(o-d)<5?(t.callback(u,e)&&u.find("a").size()&&(window.location.href=u.find("a").attr("href")),!1):(c>e.pageX?i.find(".slide-item").first().appendTo(r):c<e.pageX&&i.find(".slide-item").last().prependTo(r),r.css({"margin-left":0}),u.parents(".slide-grope").find(".slide-item").size()<4?m.removeClass(t.thatindexClass).filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(t.thatindexClass):m.removeClass(t.thatindexClass).filter("[item="+i.find(".slide-item").eq(2).attr("item")+"]").addClass(t.thatindexClass),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),$(document).off("vmousemove").off("vmouseup"),!1)}))})),c.on("click",".slide-indexitem",(function(e){var a=$(this),n=a.attr("item"),o=function(){i.find(".slide-item").eq(1).is("[item="+n+"]")||(i.find(".slide-item").first().appendTo(r),o())};o(),m.removeClass(t.thatindexClass),a.addClass(t.thatindexClass)})),t.auto){var u,p=function(){t.auto&&(u=setTimeout((function(){i.find(".slide-item").first().appendTo(r),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),m.removeClass(t.thatindexClass),m.filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(t.thatindexClass),p()}),t.autotime))};i.bind("vmouseover mouseover",(function(){clearTimeout(u),t.auto=!1})).bind("vmouseout mouseout",(function(){t.auto=!0,p()})),p()}})),$(window).on("resize",(function(){$(".slidestyle").html((function(){var e=".slide-item{float:left;width:"+o.width()+"px;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}",t=o.width();return o.find(".slide-grope").width(t*o.find(".slide-item").size()),o.size()>1?o.each((function(a,i){i=$(i).addClass("slide-main"+a);var n=t;i.find(".slide-item").size()<2?e+=".slide-main"+a+" .slide-item{-webkit-transform: translateX("+(t-n)/2+"px); transform: translateX("+(t-n)/2+"px);}":e+=".slide-main"+a+" .slide-item:first-of-type{ margin-left: -"+n+"px; } .slide-main"+a+" .slide-grope{-webkit-transform: translateX(-"+(i.find(".slide-item").size()>3?n:0)+"px); transform: translateX(-"+(i.find(".slide-item").size()>3?n:0)+"px);}.slide-main"+a+" .slide-item{-webkit-transform: translateX("+(t-n)/2+"px); transform: translateX("+(t-n)/2+"px);}"})):e+=function(){var e=t;return o.find(".slide-item").size()<2?" .slide-main .slide-item{-webkit-transform: translateX("+(t-e)/2+"px); transform: translateX("+(t-e)/2+"px);}":".slide-main .slide-item:first-of-type{ margin-left: -"+e+"px; } .slide-main .slide-grope{-webkit-transform: translateX(-"+(o.find(".slide-item").size()>3?e:0)+"px); transform: translateX(-"+(o.find(".slide-item").size()>3?e:0)+"px);} .slide-main .slide-item{-webkit-transform: translateX("+(t-e)/2+"px); transform: translateX("+(t-e)/2+"px);}"}(),e}))})),o.css({height:"auto"})},getPage:function(e){var t={size:1,index:0,diffe:2,pageDom:'<a class="m-page-i fl" href="#${i}">${i}</a>',slur:' <span class="m-page-omi fl">...</span>',thatClass:"on",call:function(e){},pageUp:{dom:'<a href="#" class="m-page-up fl"><i class="fl"></i>上一页</a>',readClass:"read"},pageDown:{dom:'<a href="#" class="m-page-down fl">下一页<i class="fr"></i></a>',readClass:"read"},goPage:{inputdom:'<i class="fl">到第</i><input type="text" class="m-page-to fl" value="${i}"><i class="fl">页</i>',submitdom:'<input type="button" value="确定" class="m-page-jump fl">'},sizeerror:function(){},init:!1};$(this).each((function(){var a=$(this).addClass("m-page");e=e||{};var i,n={},o=n.init;if($.extend(n,t,e),n.size=Number(n.size),n.size<1&&(n.size=1),1==n.size)return n.sizeerror(),!1;var r=function(e){return s(e),!1},s=function(e){!(e=Number(e))&&(e=1),e<1&&(e=1),e>=n.size&&(e=n.size);var t=0,s=0;a.empty(),o&&n.call(e),o=!0,t=e<=n.diffe+1?1:e-n.diffe-1,s=e>=n.size-n.diffe-1?n.size-1:e+n.diffe;var l=$(n.pageUp.dom).appendTo(a).on("click",(function(){return!$(this).is("."+n.pageUp.readClass)&&r(Number(a.find("."+n.thatClass).attr("name"))-1)})),d=$($.substitute(n.pageDom,{i:1})).attr("name",1).appendTo(a).on("click",(function(){return r(1)}));1==e&&(l.addClass(n.pageUp.readClass),d.addClass(n.thatClass)),!(e<=n.diffe+2)&&a.append(n.slur);for(var c=t+1;c<=s;c++){var m=$($.substitute(n.pageDom,{i:c})).attr("name",c).appendTo(a).on("click",(function(){return r($(this).attr("name"))}));c==e&&m.addClass(n.thatClass)}!(e>=n.size-n.diffe-1)&&a.append(n.slur);var u=$($.substitute(n.pageDom,{i:n.size})).attr("name",n.size).appendTo(a).on("click",(function(){return r(n.size)})),p=$(n.pageDown.dom).appendTo(a).on("click",(function(){return!$(this).is("."+n.pageUp.readClass)&&r(Number(a.find("."+n.thatClass).attr("name"))+1)}));if(e==n.size&&(p.addClass(n.pageDown.readClass),u.addClass(n.thatClass)),n.goPage){i=$($.substitute(n.goPage.inputdom,{i:e})).appendTo(a);$($.substitute(n.goPage.submitdom,{i:n.index})).appendTo(a).on("click",(function(){return r(i.filter("input[type='text']").val())}))}};return a.setSize=function(e){n.size=Number(e)},s(n.index),a}))},dialog:function(e,t){$.dialog(this,e,t)},gotop:function(e){var t=$(window),a=$(this),i={call:function(a){t.scroll((function(i){t.scrollTop()<e.devi?a.hide():a.show()}))},ani:function(){var e=t.scrollTop();$.ani({duration:500,call:function(a,i){var n=e/i|0;return a==i?t.scrollTop(0):t.scrollTop(e-n*a),!0}})}};e=e||{};var n={};$.extend(n,i,e),a.each((function(e,t){var a=$(t);n.call(a),a.bind("click",(function(){return n.ani(),!1}))}))},score:function(e,t,a){a=a||!1;var i=$(this);"boolean"==$.type(t)&&(a=t,t={});var n={};t=t||{},$.extend(n,{groupdom:"<ul></ul>",itemdom:"<li>${i}</li>",spacedom:'<div style="float: left">,</div>',decimaldom:"<div>.</div>"},t);var o="0123456789".split(""),r=[],s=[],l=function(e,t){var a=t?$(n.groupdom).appendTo(e).addClass("decimalgroup"):$(n.groupdom).prependTo(e).addClass("scoregroup");return t?s.push(a):r.push(a),$.each(o,(function(e,t){$($.substitute(n.itemdom,{i:t})).appendTo(a).addClass("scoreitem").data("scoreitem",e)})),t?s:r},d=function(e,t){var i=t.find(".scoreitem").outerHeight(),n=Number(t.find(".scoreitem").first().data("scoreitem")),o=Number(e),r=1e3/(n>o?9-Math.abs(n-o):o-n);if(!(r<Number.POSITIVE_INFINITY)){if(!a)return;r=1e3/(5*Math.random()+5|0)}var s=function(){t.animate({"margin-top":-1*i},r,"linear",(function(){t.css({"margin-top":0}),t.find(".scoreitem").first().appendTo(t),t.find(".scoreitem").first().data("scoreitem")!=e&&s()}))};s()};return i.map((function(t,a){if((a=$(a)).data("score")){var i=a.data("score");n=i.e,r=i.arr,s=i.decimalarr;var o=(e=n.decimal?Number(e).toFixed(n.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(n.index&&o.length-n.index>0&&(o=e.split(".")[0].substr(o.length-n.index,n.index).split("").reverse()),o.length>r.length){t=r.length;for(var c=o.length-t,m=0;m<c;m++)n.space&&m+t<o.length&&(m+t)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(a),l(a)}else for(c=r.length-o.length,m=0;m<c;m++)o.push("0");$.each(o,(function(e,t){d(t,r[e])})),n.decimal&&$.each(e.split(".")[1].split(""),(function(e,t){d(t,s[e])}))}else{a.addClass("score");o=(e=n.decimal?Number(e).toFixed(n.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(n.index)for(m=0;m<n.index;m++)l(a),n.space&&m<o.length-1&&(m+1)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(a);else $.each(o,(function(e,t){l(a),n.space&&e<o.length-1&&(e+1)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(a)}));if($.each(o,(function(e,t){d(t,r[e])})),n.decimal){$(n.decimaldom).addClass("decimalspace").appendTo(a);for(m=0;m<n.decimal;m++)l(a,!0);$.each(e.split(".")[1].split(""),(function(e,t){d(t,s[e])}))}a.data("score",{decimalarr:s,arr:r,e:n})}})),i}})}(jQuery,window,document)},,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);a(1),a(8);var i=a(0),n=(a(2),{topData:{china:{total:{total:168.21,year:24.32,month:18291,today:8291},hour:{total:133.93,year:18.32,month:12392,today:7911},month:{total:34.28,year:6,month:5899,today:380}},guangxi:{total:{total:102.09,year:24.32,month:18291,today:8291},hour:{total:133.93,year:18.32,month:12392,today:7911},month:{total:34.28,year:6,month:5899,today:380}},beijing:{total:{total:128.21,year:24.32,month:18291,today:8291},hour:{total:133.93,year:18.32,month:12392,today:7911},month:{total:34.28,year:6,month:5899,today:380}},zhejiang:{total:{total:208.21,year:24.32,month:18291,today:8291},hour:{total:133.93,year:18.32,month:12392,today:7911},month:{total:34.28,year:6,month:5899,today:380}},anhui:{total:{total:128.21,year:24.32,month:18291,today:8291},hour:{total:133.93,year:18.32,month:12392,today:7911},month:{total:34.28,year:6,month:5899,today:380}}},leftBar:{most:{category:["河北","上海","浙江","广东","湖北","福建","湖南","安徽","江苏","北京"],data:[9,10,13,14,15,18,22,25,28,30]},least:{category:["北京","上海","浙江","广东","湖北","福建","四川","贵州","海南","云南"],data:[2.1,2.1,1.8,1.8,1.6,1.4,1.2,.9,.8,.7]}},mapData:[{name:"广西",en:"guangxi",value:13.32,coord:[108.418194,22.839025],cityData:[{name:"南宁市",value:13.32,coord:[108.320004,22.82402]}]},{name:"浙江",en:"zhejiang",value:25.7,coord:[120.141739,30.291447],cityData:[{name:"杭州市",value:25.7,coord:[120.168992,30.259104]}]},{name:"北京",en:"beijing",value:3.8,coord:[116.434739,39.912057],cityData:[{name:"北京市",value:3.8,coord:[116.434739,39.912057]}]},{name:"安徽",en:"anhui",value:10.4,coord:[117.234816,31.832393],cityData:[{name:"铜陵市",value:8.2,coord:[117.822505,30.952967]},{name:"合肥市",value:2.2,coord:[117.234816,31.832393]}]}],markData:[{name:"广西",coord:[108.320004,22.82402],location:[108.418194,22.839025]},{name:"浙江",coord:[120.168992,30.259104],location:[121.153576,28.987459]},{name:"安徽",coord:[117.822505,30.952967],location:[117.234816,31.832393]},{name:"安徽",coord:[117.234816,31.832393],location:[117.234816,31.832393]},{name:"北京",coord:[116.434739,39.912057],location:[116.403613,39.915185]}],rightTopData:{china:{averageOrder:323,averageinCome:523.23,hour:{averageOrder:172,averageinCome:102.89},month:{averageOrder:126,averageinCome:889.89}},guangxi:{averageOrder:200,averageinCome:523.23,hour:{averageOrder:172,averageinCome:102.89},month:{averageOrder:126,averageinCome:889.89}},beijing:{averageOrder:323,averageinCome:523.23,hour:{averageOrder:172,averageinCome:102.89},month:{averageOrder:126,averageinCome:889.89}},zhejiang:{averageOrder:323,averageinCome:523.23,hour:{averageOrder:172,averageinCome:102.89},month:{averageOrder:126,averageinCome:889.89}},anhui:{averageOrder:323,averageinCome:523.23,hour:{averageOrder:172,averageinCome:102.89},month:{averageOrder:126,averageinCome:889.89}}},lineData:{china:{year:[43023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],month:[8013,8323,9023,7034,8902,9023,9424,7924,9824,9244,8024,8924],day:[923,802,847,780,609,809,790,892,902,948,801,856]},guangxi:{year:[52023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],month:[8113,8323,9023,7034,8902,9023,9424,7924,9824,9244,8024,8924],day:[933,802,847,780,609,809,790,892,902,948,801,856]},zhejiang:{year:[42223,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],month:[8013,8323,9023,7034,8902,9023,9424,7924,9824,9244,8024,8924],day:[923,802,847,780,609,809,790,892,902,948,801,856]},beijing:{year:[43023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],month:[8013,8323,9023,7034,8902,9023,9424,7924,9824,9244,8024,8924],day:[923,802,847,780,609,809,790,892,902,948,801,856]},anhui:{year:[43023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],month:[8013,8323,9023,7034,8902,9023,9424,7924,9824,9244,8024,8924],day:[923,802,847,780,609,809,790,892,902,948,801,856]}},barData:{china:{hour:{category:["30min内","30-59min","60-89min","90-119min","120min及以上"],data:[90,200,180,120,80]},month:{category:["1个月","1-3个月","3-6个月","6-12个月","12个月及以上"],data:[190,220,190,210,90]}},guangxi:{hour:{category:["30min内","30-59min","60-89min","90-119min","120min及以上"],data:[180,200,180,120,80]},month:{category:["1个月","1-3个月","3-6个月","6-12个月","12个月及以上"],data:[180,220,190,210,90]}},zhejiang:{hour:{category:["30min内","30-59min","60-89min","90-119min","120min及以上"],data:[90,200,180,120,80]},month:{category:["1个月","1-3个月","3-6个月","6-12个月","12个月及以上"],data:[190,220,190,210,90]}},beijing:{hour:{category:["30min内","30-59min","60-89min","90-119min","120min及以上"],data:[90,200,180,120,80]},month:{category:["1个月","1-3个月","3-6个月","6-12个月","12个月及以上"],data:[190,220,190,210,90]}},anhui:{hour:{category:["30min内","30-59min","60-89min","90-119min","120min及以上"],data:[90,200,180,120,80]},month:{category:["1个月","1-3个月","3-6个月","6-12个月","12个月及以上"],data:[190,220,190,210,90]}}},pieData:{china:{pie1:[{name:"新能源车",value:28},{name:"传统油车",value:72}],pie2:[{name:"小型车",value:89},{name:"其他",value:11}]},guangxi:{pie1:[{name:"新能源车",value:20},{name:"传统油车",value:80}],pie2:[{name:"小型车",value:89},{name:"其他",value:11}]},zhejiang:{pie1:[{name:"新能源车",value:80},{name:"传统油车",value:20}],pie2:[{name:"小型车",value:89},{name:"其他",value:11}]},beijing:{pie1:[{name:"新能源车",value:28},{name:"传统油车",value:72}],pie2:[{name:"小型车",value:89},{name:"其他",value:11}]},anhui:{pie1:[{name:"新能源车",value:28},{name:"传统油车",value:72}],pie2:[{name:"小型车",value:89},{name:"其他",value:11}]}}});let o;function r(e){$("#J_number_tabs a").removeClass("active"),$("#J_number_tabs a").eq(0).addClass("active"),$("#J_top_number .total").score(e.total.total,{decimal:2}),$("#J_top_number .year").score(e.total.year,{decimal:2}),$("#J_top_number .month").score(e.total.month,{space:3}),$("#J_top_number .today").score(e.total.today,{space:3}),$("#J_number_tabs a").on("click",(function(){$("#J_number_tabs a").removeClass("active"),$(this).addClass("active");let t=$(this).data("name");$("#J_top_number .item").each((function(e,t){var a=$(this).find(".number").attr("class");$(this).find(".number").remove(),$(this).append(`<div class="${a}"></div>`)})),$("#J_top_number .total").score(e[t].total,{decimal:2}),$("#J_top_number .year").score(e[t].year,{decimal:2}),$("#J_top_number .month").score(e[t].month,{space:3}),$("#J_top_number .today").score(e[t].today,{space:3})}))}function s({map:e="china",aspectScale:t=.7,mapData:a,markData:i,scatterData:n,max:o}){let r=o/5;return{geo:[{map:e,zoom:1.22,aspectScale:t,roam:!1}],visualMap:{type:"piecewise",z:1,zlevel:1,inverse:!0,pieces:[{min:0,max:r,color:"#7CB7FC"},{min:r,max:2*r,color:"#4896FF"},{min:2*r,max:3*r,color:"#2679FF"},{min:3*r,max:4*r,color:"#0051DA"},{min:4*r,max:5*r,color:"#0041B9"}],textStyle:{color:"#fff",fontSize:12},align:"left",itemGap:8,itemWidth:26,itemHeight:12,right:40,bottom:"china"==e?300:20},series:[{type:"map",map:e,z:2,aspectScale:t,zoom:1.22,label:{show:!0,color:"#8FC5FF",fontSize:18},itemStyle:{areaColor:"#143D90",borderColor:"#0A1942",borderWidth:.5},emphasis:{label:{color:"#000"},itemStyle:{areaColor:"#FFCC00 "}},data:a,markPoint:{symbol:"image://../image/icon.png",symbolSize:[29,34],symbolOffset:[0,-17],label:{show:!1},data:i}},{type:"scatter",z:3,zlevel:3,coordinateSystem:"geo",symbol:"image://../image/icon-l-active.png",symbolSize:[56,66],symbolOffset:[0,-30],data:n,itemStyle:{opacity:1},label:{show:!0,position:"right",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:20,color:"#fff",fontSize:16,formatter:function(e){return[`{a|${e.name} 服务车主}`,`{b|${e.data.total}万人}`].join("\n")},rich:{a:{color:"#fff",fontSize:16,lineHeight:24},b:{fontSize:28,lineHeight:30,color:"#FFCC00",padding:[-8,0,0,0]}}}}]}}function l(e){let t={grid:{top:30,left:46,right:18,bottom:30},xAxis:{type:"category",boundaryGap:!1,data:i.a.getMonth("月"),axisLabel:{show:!0,fontSize:12,color:"#93B0EB",padding:[4,0,0,0]},axisLine:{show:!0,lineStyle:{color:"#93B0EB"}},axisTick:{show:!0}},yAxis:{type:"value",name:"单位：人",nameTextStyle:{fontSize:12,color:"#93B0EB",padding:[0,0,0,-35]},splitNumber:3,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",interval:0},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{type:"line",symbol:"none",smooth:!0,lineStyle:{color:"#007AFF",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0074FF"},{offset:1,color:"rgba(0, 65, 255, 0.22)"}]}},markLine:{symbol:["none","none"],label:{show:!1}},data:e.year}]},a=echarts.init(document.getElementById("J_line"));a.setOption(t);let n={year:i.a.getMonth("月"),month:i.a.getDays(),day:i.a.getHours()};$("#J_line_tabs a").removeClass("active"),$("#J_line_tabs a").eq(0).addClass("active"),$("#J_line_tabs a").on("click",(function(){$("#J_line_tabs a").removeClass("active"),$(this).addClass("active");let i=$(this).data("name");t.xAxis.data=n[i],t.series[0].data=e[i],a.setOption(t)}))}function d(e){function t({category:e,data:t}){return{grid:{top:20,left:44,right:0,bottom:55},xAxis:{type:"category",data:e,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",rotate:30},axisLine:{show:!0,lineStyle:{color:"#93B0EB"}},axisTick:{show:!1}},yAxis:{type:"value",nameTextStyle:{fontSize:12,color:"#93B0EB",padding:[0,0,0,-30]},splitNumber:4,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",interval:0},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{type:"bar",barWidth:20,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#28BBFF"},{offset:1,color:"#1D5AFF"}]}},data:t}]}}let a=echarts.init(document.getElementById("J_bar_1")),i=echarts.init(document.getElementById("J_bar_2"));a.setOption(t({category:e.hour.category,data:e.hour.data})),i.setOption(t({category:e.month.category,data:e.month.data}))}function c(e){function t({color:e,data:t}){return{series:[{type:"pie",radius:["35%","80%"],center:["50%","48%"],color:e,label:{color:"#fff",fontSize:12,formatter:function(e){return e.name+"\n"+e.value+"%"}},labelLine:{length:15,length2:10},data:t}]}}let a=echarts.init(document.getElementById("J_pie_1")),i=echarts.init(document.getElementById("J_pie_2"));a.setOption(t({color:["#2ECC71","#007AFF"],data:e.pie1})),i.setOption(t({color:["#FF9500","#2ECC71"],data:e.pie2}))}function m({averageOrder:e,averageinCome:t,hour:a,month:i}){$(".total-wrap .head-order").score(e,{space:3}),$(".total-wrap .head-income").score(t,{decimal:2}),$(".total-wrap .hour-order").score(a.averageOrder,{space:3}),$(".total-wrap .hour-income").score(a.averageinCome,{decimal:2}),$(".total-wrap .month-order").score(i.averageOrder,{space:3}),$(".total-wrap .month-income").score(i.averageinCome,{decimal:2})}$(document).ready((function(){i.a.headerTime(),i.a.initMenu(),function(e){let t={grid:{top:5,left:35,right:0,bottom:20},yAxis:{type:"category",data:e.most.category,axisLabel:{show:!0,fontSize:12,color:"#93B0EB"},axisLine:{show:!1},axisTick:{show:!1}},xAxis:{type:"value",splitNumber:5,axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{type:"bar",barWidth:10,barGap:26,itemStyle:{barBorderRadius:10,color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#6DFBFB"},{offset:1,color:"#007FFF"}]}},data:e.most.data}]},a=echarts.init(document.getElementById("J_left_bar"));a.setOption(t),$("#J_bar_tabs a").on("click",(function(){$("#J_bar_tabs a").removeClass("active"),$(this).addClass("active");let i=$(this).data("name");t.yAxis.data=e[i].category,t.series[0].data=e[i].data,a.setOption(t)}))}(n.leftBar),function(){let e=[];n.mapData.map(t=>{e.push(Object.assign({},t,{itemStyle:{areaColor:"#008EFA"}}))}),e[0].selected=!0;let t=s({mapData:e,markData:n.markData,scatterData:[{name:e[0].name,value:e[0].coord,total:e[0].value}],max:i.a.getMax(e)}),a=echarts.init(document.getElementById("J_map"));a.setOption(t),console.log(t),h(e,t);var u,p=1,f=0;function g(e){clearInterval(o),e[f].selected=!1,p=1,f=0}function h(e,t){e.length<=1||(o&&g(e),o=setInterval(()=>{console.log(e,p),t.series[0].data[f].selected=!1,t.series[0].data[p].selected=!0,t.series[1].data=[{name:e[p].name,value:e[p].coord,total:e[p].value}],a.setOption(t),f=p,p=(p+1)%e.length},2e3))}a.on("click",(function(t){if(console.log(t),"series"==t.componentType){if(!(u=t.data.cityData))return;o&&g(e),t.name,$.getScript(`../lib/map/${t.data.en}.js`,(function(){$("#J_map_icon").show();let p=s({map:t.name,mapData:u,markData:n.markData.filter(e=>e.name==t.name),max:i.a.getMax(u),scatterData:[{name:u[0].name,value:u[0].coord,total:u[0].value}],aspectScale:1});u[0].selected=!0,a.setOption(p),console.log(u),h(u,p),r(n.topData[t.data.en]),m(n.rightTopData[t.data.en]),l(n.lineData[t.data.en]),d(n.barData[t.data.en]),c(n.pieData[t.data.en]),$("#J_map_icon").on("click",(function(){o&&g(u),e=n.mapData;let t=s({mapData:e,markData:n.markData,min:0,max:i.a.getMax(e),scatterData:[{name:e[0].name,value:e[0].coord,total:e[0].value}]});e[0].selected=!0,a.setOption(t),h(e,t),$("#J_map_icon").hide(),"china",r(n.topData.china),m(n.rightTopData.china),l(n.lineData.china),d(n.barData.china),c(n.pieData.china)}))}))}}))}(),m(n.rightTopData.china),l(n.lineData.china),d(n.barData.china),c(n.pieData.china),r(n.topData.china)}))}]);