!function(e){var t={};function a(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/pingan_iot/",a(a.s=14)}([function(e,t,a){"use strict";t.a={currentTime(){let e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),o=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return`${t}-${a>9?a:"0"+a}-${i>9?i:"0"+i} ${o>9?o:"0"+o}:${n>9?n:"0"+n}:${r>9?r:"0"+r}`},dateFormat(e,t){let a;const i={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(let t in i)a=new RegExp("("+t+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?i[t]:i[t].padStart(a[1].length,"0")));return e},getDay(e,t="mm-dd"){let a=new Date,i=a.getTime()+24*e*60*60*1e3;return a.setTime(i),this.dateFormat(t,a)},headerTime(){let e=this.currentTime();$("#J_header_time").text(e);setInterval((function(){$("#J_header_time").text(e)}),1e3)},initMenu(){$("#J_menu_icon").on("click",(function(e){e.stopPropagation(),e.preventDefault(),$("#J_menu").animate({width:200},"fast")})),$(document).on("click",(function(){$("#J_menu").animate({width:0})}))},getDays(){let e=(new Date).getDate(),t=[];for(let a=1;a<=e;a++)t.push(a);return t},getMonth(e){let t=(new Date).getMonth()+1,a=[];for(let i=1;i<=t;i++)a.push(`${i}${e||""}`);return a},getHours(){let e=(new Date).getHours(),t=[];for(let a=0;a<=e;a++)t.push(a<10?`0${a}:00`:a+":00");return t},getMax(e){let t=0;e.map(e=>{t=e.value>t?e.value:t});let a=Math.ceil(t/5);return parseInt(5*a)}}},function(e,t,a){},function(module,exports){!function($,w,d){var win=$(w),docu=$(d),_body=d.body,b=$(_body);$.extend({toJSON:function(e){var t=w.JSON;if("object"==typeof t&&t.stringify)return t.stringify(e);if(null===e)return"null";if("undefined"!=(f=typeof e)){if("number"==f||"boolean"==f)return e+"";if("string"==f)return $.quoteString(e);if("object"==f){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var a=e.getUTCMonth()+1;a<10&&(a="0"+a);var i=e.getUTCDate();i<10&&(i="0"+i);var o=e.getUTCFullYear(),n=e.getUTCHours();n<10&&(n="0"+n);var r=e.getUTCMinutes();r<10&&(r="0"+r);var s=e.getUTCSeconds();s<10&&(s="0"+s);var l=e.getUTCMilliseconds();return l<100&&(l="0"+l),l<10&&(l="0"+l),'"'+o+"-"+a+"-"+i+"T"+n+":"+r+":"+s+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],c=0;c<e.length;c++)d.push($.toJSON(e[c])||"null");return"["+d.join(",")+"]"}var m=[];for(var p in e){var u,f;if("number"==(f=typeof p))u='"'+p+'"';else{if("string"!=f)continue;u=$.quoteString(p)}if("function"!=typeof e[p]){var g=$.toJSON(e[p]);m.push(u+":"+g)}}return"{"+m.join(", ")+"}"}}},quoteString:function(e){return'"'+e+'"'},evalJSON:function(src){var JSON=w.JSON;return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},secureEvalJSON:function(src){var JSON=w.JSON;if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},substitute:function(e,t){return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,(function(e,a,i){return t[a]?t[a]:0===t[a]?"0":""}))},getArgs:function(e){for(var t=(e=e?(e=e.split("?"))[e.length-1]:w.location.search.substring(1)).split("&"),a={},i=0;i<t.length;i++){var o=t[i].indexOf("=");if(-1!=o){var n=t[i].substring(0,o),r=t[i].substring(o+1);if(r=$.decodeURI(r),a[n])if($.isArray(a[n]))a[n].push(r);else{var s=a[n];a[n]=[],a[n].push(s),a[n].push(r)}else a[n]=r}}return a},decodeURI:function(e){return w.decodeURIComponent(e)},encodeURI:function(e){return w.encodeURIComponent(e)},cookie:function(e,t,a){if(void 0===t){var i=null;if(d.cookie&&""!=d.cookie)for(var o=d.cookie.split(";"),n=0;n<o.length;n++){var r=$.trim(o[n]);if(r.substring(0,e.length+1)==e+"="){i=w.decodeURIComponent(r.substring(e.length+1));break}}return i}a=a||{},null===t&&(t="",a.expires=-1);var s,l="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(s=new Date).setTime(s.getTime()+24*a.expires*60*60*1e3):s=a.expires,l="; expires="+s.toUTCString());var c=a.path?"; path="+a.path:"; path=/",m=a.domain?"; domain="+a.domain:"",p=a.secure?"; secure":"";d.cookie=[e,"=",w.encodeURIComponent(t),l,c,m,p].join("")},format:function(e,t){return t||(t=e,e=new Date),"date"!==$.type(e)&&(e=new Date),t.replace(/yyyy/g,e.getFullYear()).replace(/mm/g,("0"+(e.getMonth()+1)).slice(-2)).replace(/dd/g,("0"+e.getDate()).slice(-2)).replace(/HH/g,(function(t,a,i){return("00"+e.getHours()).substr(-2,2)})).replace(/MM/g,("00"+e.getMinutes()).substr(-2,2)).replace(/SS/g,("00"+e.getSeconds()).substr(-2,2)).replace(/W/g,e.getDay())},timestampToTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},service:function(e,t){if(!e||!e.url)return console&&console.log?alert("未填写URL"):console.log("未填写URL"),!1;var a={};$.extend(a,{type:"POST",contentType:"application/x-www-form-urlencoded",dataType:"json",timeout:5e3,action:"post",data:{},error:function(e){}},e),a.url=$.urlmap[e.url],"get"==a.action&&(a.data={data:$.toJSON({header:{},req:e.data})}),a.data.date=(new Date).getTime(),a.success=function(t){try{"get"==a.action&&t.resp?e.success(t.resp):e.success(t)}catch(e){a.error(e)}},t?$.publish("mop.passport.islogin",(function(e){e?$.ajax(a):$.publish("mop.passport.login",[function(){$.publish("mop.passport.userinfo",[function(){$(".m-topbar-left-login").show(),$(".m-topbar-left").hide(),"1"==$("body").attr("flush")&&location.reload()}]),$.ajax(a)}])})):$.ajax(a)},ani:function(e){var t=1e3/(e=$.extend(e,{frame:25})).frame|0,a=0,i=e.duration/t>e.duration/t|0?1+(e.duration/t|0):e.duration/t|0,o=w.setInterval((function(){(++a>i||!e.call(a,i))&&(w.clearInterval(o),e.end&&e.end())}),t)},pop:function(e){e.bullet?e.bullet=$(e.bullet):function(){throw new Error("大虾你要弹出个虾米东西??偶么知道!")}();var t={target:win},a={},i="absolute",o={top:0,left:0};$.extend(a,t,e),a.target==win||a.target==w?(i="fixed",a.target=win):(a.target=$(a.target),o=a.target.offset());var n=function(){var e=o.top+a.target.height()/2-a.bullet.height()/2,t=o.left+a.target.width()/2-a.bullet.width()/2;return a.mask&&(a.mask=$(a.mask).hide().css({position:i,top:o.top,left:o.left,width:0,height:0}).appendTo(b),a.mask.css({width:a.target.width(),height:a.target.height()})),a.bullet.css({position:i,top:e,left:t}).appendTo(b),n.show()};return n.show=function(){a.bullet.show(),a.mask&&a.mask.show(),a.mask.css({width:a.target.width(),height:a.target.height()});var e=o.top+a.target.height()/2-a.bullet.height()/2,t=o.left+a.target.width()/2-a.bullet.width()/2;return a.bullet.css({top:e,left:t}),n},n.hide=function(){return a.bullet.hide(),a.mask&&a.mask.hide(),win.off("resize"),n},win.on("resize",(function(){$(a.mask).is(":visible")?n.show():win.off("resize")})),n()},mousePos:function(e){return{x:(e=e||win.event).clientX+_body.scrollLeft+d.documentElement.scrollLeft,y:e.clientY+_body.scrollTop+d.documentElement.scrollTop}},switchTab:function(e){if(!e.tab)throw new Error("没定义要切换的tab的选择器！");var t={onClass:"on",evt:"click"};$.extend(t,e);var a=$(t.tab),i=t.con?$(t.con):null;a.eq(0).addClass(t.onClass),i.hide(),i.eq(0).show(),a.on(t.evt,(function(){return a.removeClass(t.onClass),$(this).addClass(t.onClass),i&&i.length>0&&(i.hide(),i.eq(a.index($(this))).show()),t.callback&&t.callback($(this),i.eq(a.index($(this)))),!1}))},selectAll:function(e,t,a){var i=$(e),o=$(t);i.click((function(){$(this).attr("checked")?o.each((function(){$(this).attr("checked",!0),$(this).parents(a).addClass("on")})):o.each((function(){$(this).attr("checked",!1),$(this).parents(a).removeClass("on")}))})),o.click((function(){i.attr("checked",!1),$(this).attr("checked")?$(this).parents(a).addClass("on"):$(this).parents(a).removeClass("on")}))},total:function(){var e=0,t=function(){return Number(e).toFixed(2)},a=function(t){$.isNumeric(t)&&(e=(Number(e)+Number(t)).toFixed(2))},i=function(t){$.isNumeric(t)&&(e=(Number(e)-Number(t)).toFixed(2))},o=function(t){$.isNumeric(t)&&(e=(Number(e)*Number(t)).toFixed(2))},n=function(t){if(0==t)throw alert("除数是零吗??"),new Error("除数是零吗??");$.isNumeric(t)&&(e=(Number(e)/Number(t)).toFixed(2))},r=function(){return Number(e).toFixed(2)},s=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){s(t)})):a(t)})),t},l=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){l(t)})):i(t)})),t},d=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){l(t)})):o(t)})),t},c=function(){return $.each(arguments,(function(e,t){$.isArray(t)?$.each(t,(function(e,t){c(t)})):n(t)})),t},m=[];return $.each(arguments,(function(e,t){m.push(t)})),s(m),t.toString=r,t["+"]=t.add=s,t["-"]=t.red=l,t.x=t.mul=d,t["/"]=t.exc=c,t},dialog:function(e,t,a){if(window.parent!=window)window.parent.$.dialog(e,t,a);else{var i={},o={};"object"==typeof t&&(a=t,t=void 0),$.extend(i,{confirm:{literal:"确认",isShow:!0},cancel:{literal:"取消",isShow:!0}},a),o.confirmtxt=i.confirm.literal||"确认",o.canceltxt=i.cancel.literal||"取消",$(".mop-dialog-pop").is(":visible")&&$(".mop-dialog-pop").hide();var n=$(".mop-dialog-mask").size()?$(".mop-dialog-mask"):$('<div class="mop-dialog-mask"></div>').appendTo("body"),r=$(".mop-dialog-pop").size()?$(".mop-dialog-pop").empty().css({width:"inherit",height:"inherit"}).attr("class","mop-dialog-pop pos-a oh br4"):$('<div class="mop-dialog-pop pos-a oh br4"> </div>').appendTo("body").hide();r.html($.substitute('<div class="mop-dialog-border"></div> <div class="mop-dialog-bullet clearfix"> <a href="#" class="fr mop-dialog-close"></a> <div class="tc mop-dialog-main"></div> <div class="mt20 tc mop-dialog-but"> <input type="button" class="mop-dialog-confirm br4" value="${confirmtxt}"><input type="button" class="mop-dialog-cancel br4 hide" value="${canceltxt}"> </div> </div> ',o));var s=r.find(".mop-dialog-main");"string"==typeof e&&i.icon&&(e='<i class="mop-icon mop-icon-'+i.icon+'"></i>'+e),s.html(e);var l=r.find(".mop-dialog-close").add(r.find(".mop-dialog-confirm"));if(i.confirm.isShow?($(".mop-dialog-confirm").show(),r.find(".mop-dialog-confirm").one("click",(function(){"function"==typeof t&&t(!0)}))):$(".mop-dialog-confirm").hide(),"function"==typeof t){if(i.cancel.isShow){var d=$(".mop-dialog-cancel").show();d.add(r.find(".mop-dialog-close")).one("click",(function(){t(!1)})),l=l.add(d)}}else $(".mop-dialog-cancel").hide();var c=$.pop({bullet:r,mask:n});l.one("click",(function(){c.hide()}))}}}),$.fn.extend({slide:function(e){var t={};$.extend(t,{auto:!0,autotime:5e3,item:".item",grope:".grope",indexmain:".indexmain",l:"",r:"",indexdom:"<li></li>",thatindexClass:"on",callback:function(){return!0},end:function(e,t){}},e);var a,i,o,n=$(this);n.find(t.grope).addClass("slide-grope"),n.find(t.item).addClass("slide-item").find("a").on("click",(function(){return!1})),n.find(t.indexmain).addClass("slide-index"),$(this).size()&&$("head").append('<style type="text/css" class="slidestyle">.slide-item{float:left;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}'+(i=n.width(),o="",n.size()>1?n.each((function(e,t){t=$(t).addClass("slide-main"+e);var a=i;t.find(".slide-item").size()<2?o+=".slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}":o+=".slide-main"+e+" .slide-item:first-of-type{ margin-left: -"+a+"px; } .slide-main"+e+" .slide-grope{-webkit-transform: translateX(-"+(t.find(".slide-item").size()>3?a:0)+"px); transform: translateX(-"+(t.find(".slide-item").size()>3?a:0)+"px);}.slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}"})):o+=(a=i,n.find(".slide-item").size()<2?t.grope+" "+t.item+"{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}":t.grope+" "+t.item+":first-of-type{ margin-left: -"+a+"px; } .slide-main "+t.grope+"{-webkit-transform: translateX(-"+(n.find(".slide-item").size()>3?a:0)+"px); transform: translateX(-"+(n.find(".slide-item").size()>3?a:0)+"px);} "+t.grope+" "+t.item+"{-webkit-transform: translateX("+(i-a)/2+"px); transform: translateX("+(i-a)/2+"px);}"),o+"</style>")),n.map((function(e,a){var i=$(a),o=i.offset(),r=i.find(".slide-grope"),s=i.find(".slide-item"),l=n.width(),d=s.size(),c=i.find(".slide-index");if(i.is(".slide-main"))return!1;i.addClass("slide-main"),r.width(l*d).addClass("slides"),c.empty(),s.on("mouseup",(function(e){t.callback($(this),e)&&n.find("a").size()&&(window.location.href=$(this).find("a").attr("href"))})),s.each((function(e,a){$("function"==$.type(t.indexdom)?t.indexdom(e):t.indexdom).appendTo(c).attr("item",e).addClass("slide-indexitem"),$(a).attr("item",e)}));var m=c.find(".slide-indexitem").filter("[item=0]").addClass(t.thatindexClass).end();if(i.find(".slide-item").last().prependTo(r),n.find(".slide-item").size()>3&&i.find(".slide-item").last().prependTo(r),s.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){var e=i.find(".slide-item").eq(1);t.end&&t.end(e.attr("item"),e)})),s.on("vmousedown",(function(e){e.stopPropagation(),e.preventDefault();var a=e.pageX-o.left,n=e.pageY-o.top,s=0,d=0,c=e.pageX,p=$(this),u=!1;$(document).on("vmousemove",(function(e){s=e.pageX-o.left,Math.abs(a-s)>15&&(u=!0),u&&(e.stopPropagation(),e.preventDefault(),r.removeClass("slides").first().css({"margin-left":-1*(a-s)}))})).on("vmouseup",(function(e){return e.stopPropagation(),e.preventDefault(),d=e.pageY-o.top,r.addClass("slides"),i.find(".slide-item").eq(1).css({"margin-left":r.css("margin-left")}),!u&&(p.parents(".slide-grope").find(".slide-item").size()<3?p.is(p.parents(".slide-grope").find(".slide-item").last()):3==p.parents(".slide-grope").find(".slide-item").size()?p.is(p.parents(".slide-grope").find(".slide-item").eq(1)):p.is(p.parents(".slide-grope").find(".slide-item").eq(2)))&&Math.abs(n-d)<5?(t.callback(p,e)&&p.find("a").size()&&(window.location.href=p.find("a").attr("href")),!1):(c>e.pageX?i.find(".slide-item").first().appendTo(r):c<e.pageX&&i.find(".slide-item").last().prependTo(r),r.css({"margin-left":0}),p.parents(".slide-grope").find(".slide-item").size()<4?m.removeClass(t.thatindexClass).filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(t.thatindexClass):m.removeClass(t.thatindexClass).filter("[item="+i.find(".slide-item").eq(2).attr("item")+"]").addClass(t.thatindexClass),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),$(document).off("vmousemove").off("vmouseup"),!1)}))})),c.on("click",".slide-indexitem",(function(e){var a=$(this),o=a.attr("item"),n=function(){i.find(".slide-item").eq(1).is("[item="+o+"]")||(i.find(".slide-item").first().appendTo(r),n())};n(),m.removeClass(t.thatindexClass),a.addClass(t.thatindexClass)})),t.auto){var p,u=function(){t.auto&&(p=setTimeout((function(){i.find(".slide-item").first().appendTo(r),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),m.removeClass(t.thatindexClass),m.filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(t.thatindexClass),u()}),t.autotime))};i.bind("vmouseover mouseover",(function(){clearTimeout(p),t.auto=!1})).bind("vmouseout mouseout",(function(){t.auto=!0,u()})),u()}})),$(window).on("resize",(function(){$(".slidestyle").html((function(){var e=".slide-item{float:left;width:"+n.width()+"px;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}",t=n.width();return n.find(".slide-grope").width(t*n.find(".slide-item").size()),n.size()>1?n.each((function(a,i){i=$(i).addClass("slide-main"+a);var o=t;i.find(".slide-item").size()<2?e+=".slide-main"+a+" .slide-item{-webkit-transform: translateX("+(t-o)/2+"px); transform: translateX("+(t-o)/2+"px);}":e+=".slide-main"+a+" .slide-item:first-of-type{ margin-left: -"+o+"px; } .slide-main"+a+" .slide-grope{-webkit-transform: translateX(-"+(i.find(".slide-item").size()>3?o:0)+"px); transform: translateX(-"+(i.find(".slide-item").size()>3?o:0)+"px);}.slide-main"+a+" .slide-item{-webkit-transform: translateX("+(t-o)/2+"px); transform: translateX("+(t-o)/2+"px);}"})):e+=function(){var e=t;return n.find(".slide-item").size()<2?" .slide-main .slide-item{-webkit-transform: translateX("+(t-e)/2+"px); transform: translateX("+(t-e)/2+"px);}":".slide-main .slide-item:first-of-type{ margin-left: -"+e+"px; } .slide-main .slide-grope{-webkit-transform: translateX(-"+(n.find(".slide-item").size()>3?e:0)+"px); transform: translateX(-"+(n.find(".slide-item").size()>3?e:0)+"px);} .slide-main .slide-item{-webkit-transform: translateX("+(t-e)/2+"px); transform: translateX("+(t-e)/2+"px);}"}(),e}))})),n.css({height:"auto"})},getPage:function(e){var t={size:1,index:0,diffe:2,pageDom:'<a class="m-page-i fl" href="#${i}">${i}</a>',slur:' <span class="m-page-omi fl">...</span>',thatClass:"on",call:function(e){},pageUp:{dom:'<a href="#" class="m-page-up fl"><i class="fl"></i>上一页</a>',readClass:"read"},pageDown:{dom:'<a href="#" class="m-page-down fl">下一页<i class="fr"></i></a>',readClass:"read"},goPage:{inputdom:'<i class="fl">到第</i><input type="text" class="m-page-to fl" value="${i}"><i class="fl">页</i>',submitdom:'<input type="button" value="确定" class="m-page-jump fl">'},sizeerror:function(){},init:!1};$(this).each((function(){var a=$(this).addClass("m-page");e=e||{};var i,o={},n=o.init;if($.extend(o,t,e),o.size=Number(o.size),o.size<1&&(o.size=1),1==o.size)return o.sizeerror(),!1;var r=function(e){return s(e),!1},s=function(e){!(e=Number(e))&&(e=1),e<1&&(e=1),e>=o.size&&(e=o.size);var t=0,s=0;a.empty(),n&&o.call(e),n=!0,t=e<=o.diffe+1?1:e-o.diffe-1,s=e>=o.size-o.diffe-1?o.size-1:e+o.diffe;var l=$(o.pageUp.dom).appendTo(a).on("click",(function(){return!$(this).is("."+o.pageUp.readClass)&&r(Number(a.find("."+o.thatClass).attr("name"))-1)})),d=$($.substitute(o.pageDom,{i:1})).attr("name",1).appendTo(a).on("click",(function(){return r(1)}));1==e&&(l.addClass(o.pageUp.readClass),d.addClass(o.thatClass)),!(e<=o.diffe+2)&&a.append(o.slur);for(var c=t+1;c<=s;c++){var m=$($.substitute(o.pageDom,{i:c})).attr("name",c).appendTo(a).on("click",(function(){return r($(this).attr("name"))}));c==e&&m.addClass(o.thatClass)}!(e>=o.size-o.diffe-1)&&a.append(o.slur);var p=$($.substitute(o.pageDom,{i:o.size})).attr("name",o.size).appendTo(a).on("click",(function(){return r(o.size)})),u=$(o.pageDown.dom).appendTo(a).on("click",(function(){return!$(this).is("."+o.pageUp.readClass)&&r(Number(a.find("."+o.thatClass).attr("name"))+1)}));if(e==o.size&&(u.addClass(o.pageDown.readClass),p.addClass(o.thatClass)),o.goPage){i=$($.substitute(o.goPage.inputdom,{i:e})).appendTo(a);$($.substitute(o.goPage.submitdom,{i:o.index})).appendTo(a).on("click",(function(){return r(i.filter("input[type='text']").val())}))}};return a.setSize=function(e){o.size=Number(e)},s(o.index),a}))},dialog:function(e,t){$.dialog(this,e,t)},gotop:function(e){var t=$(window),a=$(this),i={call:function(a){t.scroll((function(i){t.scrollTop()<e.devi?a.hide():a.show()}))},ani:function(){var e=t.scrollTop();$.ani({duration:500,call:function(a,i){var o=e/i|0;return a==i?t.scrollTop(0):t.scrollTop(e-o*a),!0}})}};e=e||{};var o={};$.extend(o,i,e),a.each((function(e,t){var a=$(t);o.call(a),a.bind("click",(function(){return o.ani(),!1}))}))},score:function(e,t,a){a=a||!1;var i=$(this);"boolean"==$.type(t)&&(a=t,t={});var o={};t=t||{},$.extend(o,{groupdom:"<ul></ul>",itemdom:"<li>${i}</li>",spacedom:'<div style="float: left">,</div>',decimaldom:"<div>.</div>"},t);var n="0123456789".split(""),r=[],s=[],l=function(e,t){var a=t?$(o.groupdom).appendTo(e).addClass("decimalgroup"):$(o.groupdom).prependTo(e).addClass("scoregroup");return t?s.push(a):r.push(a),$.each(n,(function(e,t){$($.substitute(o.itemdom,{i:t})).appendTo(a).addClass("scoreitem").data("scoreitem",e)})),t?s:r},d=function(e,t){var i=t.find(".scoreitem").outerHeight(),o=Number(t.find(".scoreitem").first().data("scoreitem")),n=Number(e),r=1e3/(o>n?9-Math.abs(o-n):n-o);if(!(r<Number.POSITIVE_INFINITY)){if(!a)return;r=1e3/(5*Math.random()+5|0)}var s=function(){t.animate({"margin-top":-1*i},r,"linear",(function(){t.css({"margin-top":0}),t.find(".scoreitem").first().appendTo(t),t.find(".scoreitem").first().data("scoreitem")!=e&&s()}))};s()};return i.map((function(t,a){if((a=$(a)).data("score")){var i=a.data("score");o=i.e,r=i.arr,s=i.decimalarr;var n=(e=o.decimal?Number(e).toFixed(o.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(o.index&&n.length-o.index>0&&(n=e.split(".")[0].substr(n.length-o.index,o.index).split("").reverse()),n.length>r.length){t=r.length;for(var c=n.length-t,m=0;m<c;m++)o.space&&m+t<n.length&&(m+t)%o.space==0&&$(o.spacedom).addClass("scorespace").prependTo(a),l(a)}else for(c=r.length-n.length,m=0;m<c;m++)n.push("0");$.each(n,(function(e,t){d(t,r[e])})),o.decimal&&$.each(e.split(".")[1].split(""),(function(e,t){d(t,s[e])}))}else{a.addClass("score");n=(e=o.decimal?Number(e).toFixed(o.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(o.index)for(m=0;m<o.index;m++)l(a),o.space&&m<n.length-1&&(m+1)%o.space==0&&$(o.spacedom).addClass("scorespace").prependTo(a);else $.each(n,(function(e,t){l(a),o.space&&e<n.length-1&&(e+1)%o.space==0&&$(o.spacedom).addClass("scorespace").prependTo(a)}));if($.each(n,(function(e,t){d(t,r[e])})),o.decimal){$(o.decimaldom).addClass("decimalspace").appendTo(a);for(m=0;m<o.decimal;m++)l(a,!0);$.each(e.split(".")[1].split(""),(function(e,t){d(t,s[e])}))}a.data("score",{decimalarr:s,arr:r,e:o})}})),i}})}(jQuery,window,document)},,,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);a(1),a(9);var i=a(0),o=(a(2),{topNumber:{china:{provinces:2,projects:7,useStations:151,totalStations:208,total:435.32}},leftBar:{most:{category:["河北","上海","浙江","广东","湖北","福建","湖南","安徽","江苏","北京"],data:[9,10,13,14,15,18,22,25,28,30]},least:{category:["北京","上海","浙江","广东","湖北","福建","四川","贵州","海南","云南"],data:[2.1,2.1,1.8,1.8,1.6,1.4,1.2,.9,.8,.7]}},mapData:[{name:"河北",en:"hebei",coord:[114.509905,38.048457],stations:[{name:"保定市新兴庄北",project:"2020PAZL03030",status:1,No:"2",province:"河北",city:"保定",area:"顺平县",addr:"保定市新兴庄北",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/10",images:["../image/photo/xxzb1.jpg","../image/photo/xxzb2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[114.921974,38.530934],coord:[115.474789,38.886683]},{name:"保定市文村",project:"2020PAZL03030",status:1,No:"3",province:"河北",city:"保定",area:"望都县",addr:"保定市文村",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/13",images:["../image/photo/wc1.jpg","../image/photo/wc2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[115.522272,39.075793],coord:[115.474789,38.886683]},{name:"保定市蠡县仉村村南",project:"2020PAZL03030",status:1,No:"4",province:"河北",city:"保定",area:"蠡县",addr:"保定市蠡县仉村村南",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/13",images:["../image/photo/zc1.jpg","../image/photo/zc2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[115.610646,38.468881],coord:[115.474789,38.886683]},{name:"保定市蠡县东市口",project:"2020PAZL03030",status:1,No:"5",province:"河北",city:"保定",area:"蠡县",addr:"保定市蠡县东市口",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/13",images:["../image/photo/dsk1.jpg","../image/photo/dsk2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[115.764488,38.513728],coord:[115.474789,38.886683]},{name:"保定市蠡县北宗南",project:"2020PAZL03030",status:1,No:"2",province:"河北",city:"保定",area:"蠡县",addr:"保定市蠡县北宗南",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/13",images:["../image/photo/bzn1.jpg","../image/photo/bzn2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[115.641208,38.580177],coord:[115.474789,38.886683]},{name:"保定市光明东街与富强北路交口",project:"2020PAZL03030",status:1,No:"2",province:"河北",city:"保定",area:"清苑区",addr:"保定市光明东街与富强北路交口",type:"地面站",stationType:"地面站",check:"翟勇",checkTime:"2021/6/13",images:["../image/photo/gmdj1.jpg","../image/photo/gmdj2.jpg"],admin:"闫奕哲",time:"2021/6/10",value:[115.495836,38.768952],coord:[115.474789,38.886683]}],cityData:[{name:"保定市",coord:[115.474789,38.886683]}]}],markData:[{name:"河北",coord:[115.495836,38.768952],location:[114.509905,38.048457]},{name:"河北",coord:[115.641208,38.580177],location:[114.509905,38.048457]},{name:"河北",coord:[115.764488,38.513728],location:[114.509905,38.048457]},{name:"河北",coord:[115.610646,38.468881],location:[114.509905,38.048457]},{name:"河北",coord:[115.522272,39.075793],location:[114.509905,38.048457]},{name:"河北",coord:[114.921974,38.530934],location:[114.509905,38.048457]}],topBoxData:{china:{actual:664.43,plan:778,contract:196,dianbiao:151,online:146,warming:15,offline:5}},electricData:{china:{today:7550,day:6795,thisMonth:25.67,month:22.65,thisYear:347.3,year:271.8,total:513.4}},lineData:{china:{year:{plan:[43023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],actual:[43043,48013,61239,54334,59023,44230,47234,55809,60124,42334,58232,59203]},month:{plan:[135,123,148,75,183,0,0,0,0,0,0,0],actual:[]},day:{plan:[923,802,847,780,609,809,790,892,902,948,801,856],actual:[]},total:{plan:[43023,49013,60239,54234,58023,42230,48234,56809,60124,42334,58232,59203],actual:[33043,38013,51239,64334,59023,44230,47234,55809,60124,42334,58232,59203]}}},rightBarData:{china:{total:{total:{category:["刘家沟","路庄子","清苑东安","荣家营东","沙地","市区刘守庙","双彩小区南","王辛庄","西大地","西娘庄西"],data:[7700,8800,9300,11600,13200,14300,15300,16800,17500,18e3]},year:{category:["刘家沟","路庄子","清苑东安","荣家营东","沙地","市区刘守庙","双彩小区南","王辛庄","西大地","西娘庄西"],data:[300,330,400,410,430,490,500,530,700,780]},month:{category:["刘家沟","路庄子","清苑东安","荣家营东","沙地","市区刘守庙","双彩小区南","王辛庄","西大地","西娘庄西"],data:[100,330,500,560,730,990,1200,1530,1700,1780]},day:{category:["刘家沟","路庄子","清苑东安","荣家营东","沙地","市区刘守庙","双彩小区南","王辛庄","西大地","西娘庄西"],data:[100,330,500,560,730,990,1200,1530,1700,1780]}},new:{total:{category:["江苏","河北","安徽","北京","上海","江苏","河北","安徽","北京","上海"],data:[30,35,40,44,45,48,51,55,60,70,88]},year:{category:["江苏","河北","安徽","北京","上海","江苏","河北","安徽","北京","上海"],data:[20,25,30,44,45,48,51,55,60,70,88]},month:{category:["江苏","河北","安徽","北京","上海","江苏","河北","安徽","北京","上海"],data:[30,35,40,44,45,48,51,55,60,70,88]},day:{category:["江苏","河北","安徽","北京","上海","江苏","河北","安徽","北京","上海"],data:[30,35,40,44,45,48,51,55,60,70,88]}}}}});let n;function r({grid:e={top:5,left:35,right:0,bottom:20},category:t,data:a}){return{grid:e,yAxis:{type:"category",data:t,axisLabel:{show:!0,fontSize:12,color:"#93B0EB"},axisLine:{show:!1},axisTick:{show:!1}},xAxis:{type:"value",splitNumber:5,axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{type:"bar",barWidth:10,barGap:26,itemStyle:{barBorderRadius:10,color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#6DFBFB"},{offset:1,color:"#007FFF"}]}},data:a}]}}function s({map:e="china",zoom:t=1.15,aspectScale:a=.7,mapData:i,scatterData:n,mapBottom:r=160}){return{geo:[{map:e,zoom:t,left:80,right:250,top:60,bottom:r,aspectScale:a,roam:!1}],series:[{type:"map",map:e,z:2,aspectScale:a,zoom:t,left:80,right:250,top:60,bottom:r,label:{show:!0,color:"#8FC5FF",fontSize:18},itemStyle:{areaColor:"#143D90",borderColor:"#0A1942",borderWidth:.5},emphasis:{label:{color:"#000"},itemStyle:{areaColor:"#FFCC00 "}},data:i,markPoint:{symbol:"image://../image/icon.png",symbolSize:[29,34],symbolOffset:[0,-17],label:{show:!1},data:o.markData}},{type:"scatter",z:3,zlevel:3,coordinateSystem:"geo",symbol:"image://../image/icon-l-active.png",symbolSize:[56,66],symbolOffset:[0,-33],data:n,itemStyle:{opacity:1},label:{show:!0,position:"right",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:20,color:"#fff",fontSize:16,formatter:function(e){return["{title|基站信息}","{l|}","{border|}","{st|}",`{name|${e.name}} {s${e.data.status}|}`,`{a|${e.data.project}} {No|${e.data.No}}`,`{icon|} {b|${e.data.province}} {b|${e.data.city}} {b|${e.data.area}}`,`{a|${e.data.addr}}`,`{tx|}{sr|}{a|塔型：} {b|${e.data.type}} {zx|}{sr|}{a|站型：} {b|${e.data.stationType}}`,"{st|}","{l|}","{st|}","{t|最近巡检}",`{a|${e.data.check} ${e.data.checkTime}}`,"{st|}","{img1|} {img2|}","{st|}","{l|}","{st|}","{t|最近审核}",`{a|${e.data.admin} ${e.data.time}}`].join("\n")},rich:{title:{fontSize:20,lineHeight:40,color:"#fff",fontWeight:"bold"},border:{width:80,height:1,borderWidth:1,borderColor:"#008FFC"},st:{padding:[-6,0,0,0]},name:{fontSize:18,lineHeight:28,color:"#fff",fontWeight:"bold",padding:[0,4,0,0]},s1:{height:20,backgroundColor:{image:"../image/button1.png"}},s2:{height:20,backgroundColor:{image:"../image/button2.png"}},s3:{height:20,backgroundColor:{image:"../image/button3.png"}},s4:{height:20,backgroundColor:{image:"../image/button4.png"}},s5:{height:20,backgroundColor:{image:"../image/button5.png"}},No:{fontSize:16,lineHeight:28,color:"#007AFF",padding:[0,0,0,6]},a:{color:"#fff",fontSize:16,lineHeight:28},b:{fontSize:16,lineHeight:28,color:"#FFCC00",padding:[0,10,0,0]},icon:{width:16,height:16,backgroundColor:{image:"../image/location.png"}},tx:{width:16,height:16,backgroundColor:{image:"../image/taxing.png"}},zx:{width:16,height:16,backgroundColor:{image:"../image/zhanxing.png"}},sr:{padding:[0,4,0,0]},t:{fontSize:16,lineHeight:28,color:"#FFF",fontWeight:"bold"},l:{width:"100%",height:1,backgroundColor:{image:"../image/pop-line.png"}},img1:{width:134,height:89,backgroundColor:{}},img2:{width:134,height:89,backgroundColor:{}}}}}]}}function l(){let e=[];o.mapData.map(t=>{e.push(Object.assign({},t,{itemStyle:{areaColor:"#008EFA"}}))}),e[0].selected=!0;let t=s({mapData:e,scatterData:[e[0].stations[0]]});t.series[1].label.rich.img1.backgroundColor.image=e[0].stations[0].images[0],t.series[1].label.rich.img2.backgroundColor.image=e[0].stations[0].images[1];let a=echarts.init(document.getElementById("J_map"));a.setOption(t);var i=[];e.map(e=>{e.stations&&(i=i.concat(e.stations))}),c(e,t);var r,l=1,d=0;function c(e,t){n=setInterval(()=>{console.log(l,i);let o=function(e,t){return e.findIndex(e=>e.name==t.province)}(e,i[l]);t.series[0].data[d].selected=!1,t.series[0].data[o].selected=!0,t.series[1].data=[i[l]],t.series[1].label.rich.img1.backgroundColor.image=i[l].images[0],t.series[1].label.rich.img2.backgroundColor.image=i[l].images[1],a.setOption(t),console.log(t),d=o,l=(l+1)%i.length},3e3)}console.log(">>>>",i),a.on("click",(function(t){"series"==t.componentType&&(n&&(i=e,clearInterval(n),i[d].selected=!1,l=1,d=0),$.getScript(`../lib/map/${t.data.en}.js`,(function(){$("#J_map_icon").show(),r=t.data.cityData;let i=t.data.stations;r.map(e=>{e.itemStyle={areaColor:"#008EFA"}});let m=s({map:t.name,mapData:r,scatterData:[i[0]],zoom:1,mapBottom:70});r[0].selected=!0,a.setOption(m);var p=r.findIndex(e=>e.coord[0]==i[0].coord[0]&&e.coord[1]==i[0].coord[1]);!function(e,t){n=setInterval(()=>{p=e.findIndex(e=>e.coord[0]==i[l].coord[0]&&e.coord[1]==i[l].coord[1]),t.series[0].data[d].selected=!1,t.series[0].data[p].selected=!0,t.series[1].data=[i[l]],a.setOption(t),d=p,l=(l+1)%i.length},3e3)}(r,m),$("#J_map_icon").on("click",(function(){n&&clearInterval(n),r[p].selected=!1,l=1,d=0,e=o.mapData;let t=s({mapData:e,scatterData:[e[0].stations[0]]});e[0].selected=!0,a.setOption(t),c(e,t),$("#J_map_icon").hide()}))})));var i}))}$(document).ready((function(){i.a.headerTime(),function({provinces:e,projects:t,useStations:a,totalStations:i,total:o}){$("#J_top_number .provinces").score(e),$("#J_top_number .projects").score(t),$("#J_top_number .use-stations").score(a,{space:3}),$("#J_top_number .total-stations").score(i,{space:3}),$("#J_top_number .total").score(o,{decimal:2})}(o.topNumber.china),function(e){let t=r(e.most),a=echarts.init(document.getElementById("J_left_bar"));a.setOption(t),$("#J_bar_tabs a").on("click",(function(){$("#J_bar_tabs a").removeClass("active"),$(this).addClass("active");let i=$(this).data("name");t.yAxis.data=e[i].category,t.series[0].data=e[i].data,a.setOption(t)}))}(o.leftBar),l(),function({actual:e,plan:t,contract:a,dianbiao:i}){$(".top-box-wrap .actual").score(e,{decimal:2}),$(".top-box-wrap .plan").score(t,{decimal:2}),$(".top-box-wrap .contract").score(a,{decimal:2}),$(".top-box-wrap .dianbiao").score(i,{space:3})}(o.topBoxData.china),function({today:e,day:t,thisMonth:a,month:i,thisYear:o,year:n,total:r}){$(".electric-wrap .today").score(e),$(".electric-wrap .day").score(t),$(".electric-wrap .thisMonth").score(a,{space:3}),$(".electric-wrap .month").score(i,{space:3}),$(".electric-wrap .thisYear").score(o,{decimal:2}),$(".electric-wrap .year").score(n,{decimal:2}),$(".electric-wrap .total").score(r,{decimal:2})}(o.electricData.china),function(e){let t={year:i.a.getMonth("月"),month:i.a.getDays(),day:i.a.getHours(),total:[1,2,3,4,5,6,7,8,9,10,11,12]},a={grid:{top:30,left:46,right:18,bottom:30},color:["#007AFF","#FFCC00"],legend:{data:["应收金额","实收金额"],textStyle:{color:"#fff"},right:0},xAxis:{type:"category",boundaryGap:!1,data:t.total,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",padding:[4,0,0,0]},axisLine:{show:!0,lineStyle:{color:"#93B0EB"}},axisTick:{show:!0}},yAxis:{type:"value",name:"单位：元",nameTextStyle:{fontSize:12,color:"#93B0EB",padding:[0,0,0,-35]},splitNumber:3,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",interval:0},axisLine:{show:!1},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{type:"line",name:"应收金额",symbol:"none",smooth:!0,lineStyle:{color:"#007AFF",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0074FF"},{offset:1,color:"rgba(0, 65, 255, 0.22)"}]}},data:e.total.plan},{type:"line",name:"实收金额",symbol:"none",smooth:!0,lineStyle:{color:"#FFCC00",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,204,0,0.41)"},{offset:1,color:"rgba(255,168,0, 0)"}]}},data:e.total.actual}]},o=echarts.init(document.getElementById("J_line"));o.setOption(a),console.log(a),$("#J_line_tabs a").on("click",(function(){$("#J_line_tabs a").removeClass("active"),$(this).addClass("active");let i=$(this).data("name");a.xAxis.data=t[i],a.series[0].data=e.china[i],o.setOption(a)}))}(o.lineData.china),function(e){let t=r({grid:{top:5,left:100,right:10,bottom:0},...e.total.total}),a=r({grid:{top:5,left:80,right:10,bottom:0},...e.new.total}),o=echarts.init(document.getElementById("J_bar_1")),n=echarts.init(document.getElementById("J_bar_2"));o.setOption(t),n.setOption(a);let s={year:i.a.getMonth("月"),month:i.a.getDays(),day:i.a.getHours(),total:[1,2,3,4,5,6,7,8,9,10,11,12]};$("#J_station_bar_tabs a").on("click",(function(){$("#J_station_bar_tabs a").removeClass("active"),$(this).addClass("active");let i=$(this).data("name");t.xAxis.data=s[i].category,t.series[0].data=e.total[i].data,o.setOption(t),a.xAxis.data=s[i].category,a.series[0].data=e.new[i].data,n.setOption(a),console.log(a)}))}(o.rightBarData.china)}))}]);