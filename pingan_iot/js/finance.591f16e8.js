!function(e){var a={};function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)t.d(i,n,function(a){return e[a]}.bind(null,n));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/pingan_iot/",t(t.s=11)}([function(e,a,t){"use strict";a.a={currentTime(){let e=new Date,a=e.getFullYear(),t=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes(),r=e.getSeconds();return`${a}-${t>9?t:"0"+t}-${i>9?i:"0"+i} ${n>9?n:"0"+n}:${o>9?o:"0"+o}:${r>9?r:"0"+r}`},dateFormat(e,a){let t;const i={"Y+":a.getFullYear().toString(),"m+":(a.getMonth()+1).toString(),"d+":a.getDate().toString(),"H+":a.getHours().toString(),"M+":a.getMinutes().toString(),"S+":a.getSeconds().toString()};for(let a in i)t=new RegExp("("+a+")").exec(e),t&&(e=e.replace(t[1],1==t[1].length?i[a]:i[a].padStart(t[1].length,"0")));return e},getDay(e,a="mm-dd"){let t=new Date,i=t.getTime()+24*e*60*60*1e3;return t.setTime(i),this.dateFormat(a,t)},headerTime(){let e=this.currentTime();$("#J_header_time").text(e);setInterval((function(){$("#J_header_time").text(e)}),1e3)},initMenu(){$("#J_menu_icon").on("click",(function(e){e.stopPropagation(),e.preventDefault(),$("#J_menu").animate({width:200},"fast")})),$(document).on("click",(function(){$("#J_menu").animate({width:0})}))},getDays(){let e=(new Date).getDate(),a=[];for(let t=1;t<=e;t++)a.push(t);return a},getMonth(e){let a=(new Date).getMonth()+1,t=[];for(let i=1;i<=a;i++)t.push(`${i}${e||""}`);return t},getHours(){let e=(new Date).getHours(),a=[];for(let t=0;t<=e;t++)a.push(t<10?`0${t}:00`:t+":00");return a},getMax(e){let a=0;e.map(e=>{a=e.value>a?e.value:a});let t=Math.ceil(a/5);return parseInt(5*t)}}},function(e,a,t){},function(module,exports){!function($,w,d){var win=$(w),docu=$(d),_body=d.body,b=$(_body);$.extend({toJSON:function(e){var a=w.JSON;if("object"==typeof a&&a.stringify)return a.stringify(e);if(null===e)return"null";if("undefined"!=(f=typeof e)){if("number"==f||"boolean"==f)return e+"";if("string"==f)return $.quoteString(e);if("object"==f){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var t=e.getUTCMonth()+1;t<10&&(t="0"+t);var i=e.getUTCDate();i<10&&(i="0"+i);var n=e.getUTCFullYear(),o=e.getUTCHours();o<10&&(o="0"+o);var r=e.getUTCMinutes();r<10&&(r="0"+r);var s=e.getUTCSeconds();s<10&&(s="0"+s);var l=e.getUTCMilliseconds();return l<100&&(l="0"+l),l<10&&(l="0"+l),'"'+n+"-"+t+"-"+i+"T"+o+":"+r+":"+s+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],c=0;c<e.length;c++)d.push($.toJSON(e[c])||"null");return"["+d.join(",")+"]"}var m=[];for(var u in e){var p,f;if("number"==(f=typeof u))p='"'+u+'"';else{if("string"!=f)continue;p=$.quoteString(u)}if("function"!=typeof e[u]){var g=$.toJSON(e[u]);m.push(p+":"+g)}}return"{"+m.join(", ")+"}"}}},quoteString:function(e){return'"'+e+'"'},evalJSON:function(src){var JSON=w.JSON;return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},secureEvalJSON:function(src){var JSON=w.JSON;if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},substitute:function(e,a){return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,(function(e,t,i){return a[t]?a[t]:0===a[t]?"0":""}))},getArgs:function(e){for(var a=(e=e?(e=e.split("?"))[e.length-1]:w.location.search.substring(1)).split("&"),t={},i=0;i<a.length;i++){var n=a[i].indexOf("=");if(-1!=n){var o=a[i].substring(0,n),r=a[i].substring(n+1);if(r=$.decodeURI(r),t[o])if($.isArray(t[o]))t[o].push(r);else{var s=t[o];t[o]=[],t[o].push(s),t[o].push(r)}else t[o]=r}}return t},decodeURI:function(e){return w.decodeURIComponent(e)},encodeURI:function(e){return w.encodeURIComponent(e)},cookie:function(e,a,t){if(void 0===a){var i=null;if(d.cookie&&""!=d.cookie)for(var n=d.cookie.split(";"),o=0;o<n.length;o++){var r=$.trim(n[o]);if(r.substring(0,e.length+1)==e+"="){i=w.decodeURIComponent(r.substring(e.length+1));break}}return i}t=t||{},null===a&&(a="",t.expires=-1);var s,l="";t.expires&&("number"==typeof t.expires||t.expires.toUTCString)&&("number"==typeof t.expires?(s=new Date).setTime(s.getTime()+24*t.expires*60*60*1e3):s=t.expires,l="; expires="+s.toUTCString());var c=t.path?"; path="+t.path:"; path=/",m=t.domain?"; domain="+t.domain:"",u=t.secure?"; secure":"";d.cookie=[e,"=",w.encodeURIComponent(a),l,c,m,u].join("")},format:function(e,a){return a||(a=e,e=new Date),"date"!==$.type(e)&&(e=new Date),a.replace(/yyyy/g,e.getFullYear()).replace(/mm/g,("0"+(e.getMonth()+1)).slice(-2)).replace(/dd/g,("0"+e.getDate()).slice(-2)).replace(/HH/g,(function(a,t,i){return("00"+e.getHours()).substr(-2,2)})).replace(/MM/g,("00"+e.getMinutes()).substr(-2,2)).replace(/SS/g,("00"+e.getSeconds()).substr(-2,2)).replace(/W/g,e.getDay())},timestampToTime:function(e){var a=new Date(1e3*e);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+((a.getDate()<10?"0"+a.getDate():a.getDate())+" ")+((a.getHours()<10?"0"+a.getHours():a.getHours())+":")+((a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())+":")+(a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds())},service:function(e,a){if(!e||!e.url)return console&&console.log?alert("未填写URL"):console.log("未填写URL"),!1;var t={};$.extend(t,{type:"POST",contentType:"application/x-www-form-urlencoded",dataType:"json",timeout:5e3,action:"post",data:{},error:function(e){}},e),t.url=$.urlmap[e.url],"get"==t.action&&(t.data={data:$.toJSON({header:{},req:e.data})}),t.data.date=(new Date).getTime(),t.success=function(a){try{"get"==t.action&&a.resp?e.success(a.resp):e.success(a)}catch(e){t.error(e)}},a?$.publish("mop.passport.islogin",(function(e){e?$.ajax(t):$.publish("mop.passport.login",[function(){$.publish("mop.passport.userinfo",[function(){$(".m-topbar-left-login").show(),$(".m-topbar-left").hide(),"1"==$("body").attr("flush")&&location.reload()}]),$.ajax(t)}])})):$.ajax(t)},ani:function(e){var a=1e3/(e=$.extend(e,{frame:25})).frame|0,t=0,i=e.duration/a>e.duration/a|0?1+(e.duration/a|0):e.duration/a|0,n=w.setInterval((function(){(++t>i||!e.call(t,i))&&(w.clearInterval(n),e.end&&e.end())}),a)},pop:function(e){e.bullet?e.bullet=$(e.bullet):function(){throw new Error("大虾你要弹出个虾米东西??偶么知道!")}();var a={target:win},t={},i="absolute",n={top:0,left:0};$.extend(t,a,e),t.target==win||t.target==w?(i="fixed",t.target=win):(t.target=$(t.target),n=t.target.offset());var o=function(){var e=n.top+t.target.height()/2-t.bullet.height()/2,a=n.left+t.target.width()/2-t.bullet.width()/2;return t.mask&&(t.mask=$(t.mask).hide().css({position:i,top:n.top,left:n.left,width:0,height:0}).appendTo(b),t.mask.css({width:t.target.width(),height:t.target.height()})),t.bullet.css({position:i,top:e,left:a}).appendTo(b),o.show()};return o.show=function(){t.bullet.show(),t.mask&&t.mask.show(),t.mask.css({width:t.target.width(),height:t.target.height()});var e=n.top+t.target.height()/2-t.bullet.height()/2,a=n.left+t.target.width()/2-t.bullet.width()/2;return t.bullet.css({top:e,left:a}),o},o.hide=function(){return t.bullet.hide(),t.mask&&t.mask.hide(),win.off("resize"),o},win.on("resize",(function(){$(t.mask).is(":visible")?o.show():win.off("resize")})),o()},mousePos:function(e){return{x:(e=e||win.event).clientX+_body.scrollLeft+d.documentElement.scrollLeft,y:e.clientY+_body.scrollTop+d.documentElement.scrollTop}},switchTab:function(e){if(!e.tab)throw new Error("没定义要切换的tab的选择器！");var a={onClass:"on",evt:"click"};$.extend(a,e);var t=$(a.tab),i=a.con?$(a.con):null;t.eq(0).addClass(a.onClass),i.hide(),i.eq(0).show(),t.on(a.evt,(function(){return t.removeClass(a.onClass),$(this).addClass(a.onClass),i&&i.length>0&&(i.hide(),i.eq(t.index($(this))).show()),a.callback&&a.callback($(this),i.eq(t.index($(this)))),!1}))},selectAll:function(e,a,t){var i=$(e),n=$(a);i.click((function(){$(this).attr("checked")?n.each((function(){$(this).attr("checked",!0),$(this).parents(t).addClass("on")})):n.each((function(){$(this).attr("checked",!1),$(this).parents(t).removeClass("on")}))})),n.click((function(){i.attr("checked",!1),$(this).attr("checked")?$(this).parents(t).addClass("on"):$(this).parents(t).removeClass("on")}))},total:function(){var e=0,a=function(){return Number(e).toFixed(2)},t=function(a){$.isNumeric(a)&&(e=(Number(e)+Number(a)).toFixed(2))},i=function(a){$.isNumeric(a)&&(e=(Number(e)-Number(a)).toFixed(2))},n=function(a){$.isNumeric(a)&&(e=(Number(e)*Number(a)).toFixed(2))},o=function(a){if(0==a)throw alert("除数是零吗??"),new Error("除数是零吗??");$.isNumeric(a)&&(e=(Number(e)/Number(a)).toFixed(2))},r=function(){return Number(e).toFixed(2)},s=function(){return $.each(arguments,(function(e,a){$.isArray(a)?$.each(a,(function(e,a){s(a)})):t(a)})),a},l=function(){return $.each(arguments,(function(e,a){$.isArray(a)?$.each(a,(function(e,a){l(a)})):i(a)})),a},d=function(){return $.each(arguments,(function(e,a){$.isArray(a)?$.each(a,(function(e,a){l(a)})):n(a)})),a},c=function(){return $.each(arguments,(function(e,a){$.isArray(a)?$.each(a,(function(e,a){c(a)})):o(a)})),a},m=[];return $.each(arguments,(function(e,a){m.push(a)})),s(m),a.toString=r,a["+"]=a.add=s,a["-"]=a.red=l,a.x=a.mul=d,a["/"]=a.exc=c,a},dialog:function(e,a,t){if(window.parent!=window)window.parent.$.dialog(e,a,t);else{var i={},n={};"object"==typeof a&&(t=a,a=void 0),$.extend(i,{confirm:{literal:"确认",isShow:!0},cancel:{literal:"取消",isShow:!0}},t),n.confirmtxt=i.confirm.literal||"确认",n.canceltxt=i.cancel.literal||"取消",$(".mop-dialog-pop").is(":visible")&&$(".mop-dialog-pop").hide();var o=$(".mop-dialog-mask").size()?$(".mop-dialog-mask"):$('<div class="mop-dialog-mask"></div>').appendTo("body"),r=$(".mop-dialog-pop").size()?$(".mop-dialog-pop").empty().css({width:"inherit",height:"inherit"}).attr("class","mop-dialog-pop pos-a oh br4"):$('<div class="mop-dialog-pop pos-a oh br4"> </div>').appendTo("body").hide();r.html($.substitute('<div class="mop-dialog-border"></div> <div class="mop-dialog-bullet clearfix"> <a href="#" class="fr mop-dialog-close"></a> <div class="tc mop-dialog-main"></div> <div class="mt20 tc mop-dialog-but"> <input type="button" class="mop-dialog-confirm br4" value="${confirmtxt}"><input type="button" class="mop-dialog-cancel br4 hide" value="${canceltxt}"> </div> </div> ',n));var s=r.find(".mop-dialog-main");"string"==typeof e&&i.icon&&(e='<i class="mop-icon mop-icon-'+i.icon+'"></i>'+e),s.html(e);var l=r.find(".mop-dialog-close").add(r.find(".mop-dialog-confirm"));if(i.confirm.isShow?($(".mop-dialog-confirm").show(),r.find(".mop-dialog-confirm").one("click",(function(){"function"==typeof a&&a(!0)}))):$(".mop-dialog-confirm").hide(),"function"==typeof a){if(i.cancel.isShow){var d=$(".mop-dialog-cancel").show();d.add(r.find(".mop-dialog-close")).one("click",(function(){a(!1)})),l=l.add(d)}}else $(".mop-dialog-cancel").hide();var c=$.pop({bullet:r,mask:o});l.one("click",(function(){c.hide()}))}}}),$.fn.extend({slide:function(e){var a={};$.extend(a,{auto:!0,autotime:5e3,item:".item",grope:".grope",indexmain:".indexmain",l:"",r:"",indexdom:"<li></li>",thatindexClass:"on",callback:function(){return!0},end:function(e,a){}},e);var t,i,n,o=$(this);o.find(a.grope).addClass("slide-grope"),o.find(a.item).addClass("slide-item").find("a").on("click",(function(){return!1})),o.find(a.indexmain).addClass("slide-index"),$(this).size()&&$("head").append('<style type="text/css" class="slidestyle">.slide-item{float:left;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}'+(i=o.width(),n="",o.size()>1?o.each((function(e,a){a=$(a).addClass("slide-main"+e);var t=i;a.find(".slide-item").size()<2?n+=".slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-t)/2+"px); transform: translateX("+(i-t)/2+"px);}":n+=".slide-main"+e+" .slide-item:first-of-type{ margin-left: -"+t+"px; } .slide-main"+e+" .slide-grope{-webkit-transform: translateX(-"+(a.find(".slide-item").size()>3?t:0)+"px); transform: translateX(-"+(a.find(".slide-item").size()>3?t:0)+"px);}.slide-main"+e+" .slide-item{-webkit-transform: translateX("+(i-t)/2+"px); transform: translateX("+(i-t)/2+"px);}"})):n+=(t=i,o.find(".slide-item").size()<2?a.grope+" "+a.item+"{-webkit-transform: translateX("+(i-t)/2+"px); transform: translateX("+(i-t)/2+"px);}":a.grope+" "+a.item+":first-of-type{ margin-left: -"+t+"px; } .slide-main "+a.grope+"{-webkit-transform: translateX(-"+(o.find(".slide-item").size()>3?t:0)+"px); transform: translateX(-"+(o.find(".slide-item").size()>3?t:0)+"px);} "+a.grope+" "+a.item+"{-webkit-transform: translateX("+(i-t)/2+"px); transform: translateX("+(i-t)/2+"px);}"),n+"</style>")),o.map((function(e,t){var i=$(t),n=i.offset(),r=i.find(".slide-grope"),s=i.find(".slide-item"),l=o.width(),d=s.size(),c=i.find(".slide-index");if(i.is(".slide-main"))return!1;i.addClass("slide-main"),r.width(l*d).addClass("slides"),c.empty(),s.on("mouseup",(function(e){a.callback($(this),e)&&o.find("a").size()&&(window.location.href=$(this).find("a").attr("href"))})),s.each((function(e,t){$("function"==$.type(a.indexdom)?a.indexdom(e):a.indexdom).appendTo(c).attr("item",e).addClass("slide-indexitem"),$(t).attr("item",e)}));var m=c.find(".slide-indexitem").filter("[item=0]").addClass(a.thatindexClass).end();if(i.find(".slide-item").last().prependTo(r),o.find(".slide-item").size()>3&&i.find(".slide-item").last().prependTo(r),s.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){var e=i.find(".slide-item").eq(1);a.end&&a.end(e.attr("item"),e)})),s.on("vmousedown",(function(e){e.stopPropagation(),e.preventDefault();var t=e.pageX-n.left,o=e.pageY-n.top,s=0,d=0,c=e.pageX,u=$(this),p=!1;$(document).on("vmousemove",(function(e){s=e.pageX-n.left,Math.abs(t-s)>15&&(p=!0),p&&(e.stopPropagation(),e.preventDefault(),r.removeClass("slides").first().css({"margin-left":-1*(t-s)}))})).on("vmouseup",(function(e){return e.stopPropagation(),e.preventDefault(),d=e.pageY-n.top,r.addClass("slides"),i.find(".slide-item").eq(1).css({"margin-left":r.css("margin-left")}),!p&&(u.parents(".slide-grope").find(".slide-item").size()<3?u.is(u.parents(".slide-grope").find(".slide-item").last()):3==u.parents(".slide-grope").find(".slide-item").size()?u.is(u.parents(".slide-grope").find(".slide-item").eq(1)):u.is(u.parents(".slide-grope").find(".slide-item").eq(2)))&&Math.abs(o-d)<5?(a.callback(u,e)&&u.find("a").size()&&(window.location.href=u.find("a").attr("href")),!1):(c>e.pageX?i.find(".slide-item").first().appendTo(r):c<e.pageX&&i.find(".slide-item").last().prependTo(r),r.css({"margin-left":0}),u.parents(".slide-grope").find(".slide-item").size()<4?m.removeClass(a.thatindexClass).filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(a.thatindexClass):m.removeClass(a.thatindexClass).filter("[item="+i.find(".slide-item").eq(2).attr("item")+"]").addClass(a.thatindexClass),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),$(document).off("vmousemove").off("vmouseup"),!1)}))})),c.on("click",".slide-indexitem",(function(e){var t=$(this),n=t.attr("item"),o=function(){i.find(".slide-item").eq(1).is("[item="+n+"]")||(i.find(".slide-item").first().appendTo(r),o())};o(),m.removeClass(a.thatindexClass),t.addClass(a.thatindexClass)})),a.auto){var u,p=function(){a.auto&&(u=setTimeout((function(){i.find(".slide-item").first().appendTo(r),i.find(".slide-item").css({"margin-left":0}).eq(0).css({"margin-left":-1*l}),m.removeClass(a.thatindexClass),m.filter("[item="+i.find(".slide-item").eq(1).attr("item")+"]").addClass(a.thatindexClass),p()}),a.autotime))};i.bind("vmouseover mouseover",(function(){clearTimeout(u),a.auto=!1})).bind("vmouseout mouseout",(function(){a.auto=!0,p()})),p()}})),$(window).on("resize",(function(){$(".slidestyle").html((function(){var e=".slide-item{float:left;width:"+o.width()+"px;}.slide-main .slide-item,.slide-main .slides{transition:margin ease 0.3s;-webkit-transition:margin ease 0.3s;}",a=o.width();return o.find(".slide-grope").width(a*o.find(".slide-item").size()),o.size()>1?o.each((function(t,i){i=$(i).addClass("slide-main"+t);var n=a;i.find(".slide-item").size()<2?e+=".slide-main"+t+" .slide-item{-webkit-transform: translateX("+(a-n)/2+"px); transform: translateX("+(a-n)/2+"px);}":e+=".slide-main"+t+" .slide-item:first-of-type{ margin-left: -"+n+"px; } .slide-main"+t+" .slide-grope{-webkit-transform: translateX(-"+(i.find(".slide-item").size()>3?n:0)+"px); transform: translateX(-"+(i.find(".slide-item").size()>3?n:0)+"px);}.slide-main"+t+" .slide-item{-webkit-transform: translateX("+(a-n)/2+"px); transform: translateX("+(a-n)/2+"px);}"})):e+=function(){var e=a;return o.find(".slide-item").size()<2?" .slide-main .slide-item{-webkit-transform: translateX("+(a-e)/2+"px); transform: translateX("+(a-e)/2+"px);}":".slide-main .slide-item:first-of-type{ margin-left: -"+e+"px; } .slide-main .slide-grope{-webkit-transform: translateX(-"+(o.find(".slide-item").size()>3?e:0)+"px); transform: translateX(-"+(o.find(".slide-item").size()>3?e:0)+"px);} .slide-main .slide-item{-webkit-transform: translateX("+(a-e)/2+"px); transform: translateX("+(a-e)/2+"px);}"}(),e}))})),o.css({height:"auto"})},getPage:function(e){var a={size:1,index:0,diffe:2,pageDom:'<a class="m-page-i fl" href="#${i}">${i}</a>',slur:' <span class="m-page-omi fl">...</span>',thatClass:"on",call:function(e){},pageUp:{dom:'<a href="#" class="m-page-up fl"><i class="fl"></i>上一页</a>',readClass:"read"},pageDown:{dom:'<a href="#" class="m-page-down fl">下一页<i class="fr"></i></a>',readClass:"read"},goPage:{inputdom:'<i class="fl">到第</i><input type="text" class="m-page-to fl" value="${i}"><i class="fl">页</i>',submitdom:'<input type="button" value="确定" class="m-page-jump fl">'},sizeerror:function(){},init:!1};$(this).each((function(){var t=$(this).addClass("m-page");e=e||{};var i,n={},o=n.init;if($.extend(n,a,e),n.size=Number(n.size),n.size<1&&(n.size=1),1==n.size)return n.sizeerror(),!1;var r=function(e){return s(e),!1},s=function(e){!(e=Number(e))&&(e=1),e<1&&(e=1),e>=n.size&&(e=n.size);var a=0,s=0;t.empty(),o&&n.call(e),o=!0,a=e<=n.diffe+1?1:e-n.diffe-1,s=e>=n.size-n.diffe-1?n.size-1:e+n.diffe;var l=$(n.pageUp.dom).appendTo(t).on("click",(function(){return!$(this).is("."+n.pageUp.readClass)&&r(Number(t.find("."+n.thatClass).attr("name"))-1)})),d=$($.substitute(n.pageDom,{i:1})).attr("name",1).appendTo(t).on("click",(function(){return r(1)}));1==e&&(l.addClass(n.pageUp.readClass),d.addClass(n.thatClass)),!(e<=n.diffe+2)&&t.append(n.slur);for(var c=a+1;c<=s;c++){var m=$($.substitute(n.pageDom,{i:c})).attr("name",c).appendTo(t).on("click",(function(){return r($(this).attr("name"))}));c==e&&m.addClass(n.thatClass)}!(e>=n.size-n.diffe-1)&&t.append(n.slur);var u=$($.substitute(n.pageDom,{i:n.size})).attr("name",n.size).appendTo(t).on("click",(function(){return r(n.size)})),p=$(n.pageDown.dom).appendTo(t).on("click",(function(){return!$(this).is("."+n.pageUp.readClass)&&r(Number(t.find("."+n.thatClass).attr("name"))+1)}));if(e==n.size&&(p.addClass(n.pageDown.readClass),u.addClass(n.thatClass)),n.goPage){i=$($.substitute(n.goPage.inputdom,{i:e})).appendTo(t);$($.substitute(n.goPage.submitdom,{i:n.index})).appendTo(t).on("click",(function(){return r(i.filter("input[type='text']").val())}))}};return t.setSize=function(e){n.size=Number(e)},s(n.index),t}))},dialog:function(e,a){$.dialog(this,e,a)},gotop:function(e){var a=$(window),t=$(this),i={call:function(t){a.scroll((function(i){a.scrollTop()<e.devi?t.hide():t.show()}))},ani:function(){var e=a.scrollTop();$.ani({duration:500,call:function(t,i){var n=e/i|0;return t==i?a.scrollTop(0):a.scrollTop(e-n*t),!0}})}};e=e||{};var n={};$.extend(n,i,e),t.each((function(e,a){var t=$(a);n.call(t),t.bind("click",(function(){return n.ani(),!1}))}))},score:function(e,a,t){t=t||!1;var i=$(this);"boolean"==$.type(a)&&(t=a,a={});var n={};a=a||{},$.extend(n,{groupdom:"<ul></ul>",itemdom:"<li>${i}</li>",spacedom:'<div style="float: left">,</div>',decimaldom:"<div>.</div>"},a);var o="0123456789".split(""),r=[],s=[],l=function(e,a){var t=a?$(n.groupdom).appendTo(e).addClass("decimalgroup"):$(n.groupdom).prependTo(e).addClass("scoregroup");return a?s.push(t):r.push(t),$.each(o,(function(e,a){$($.substitute(n.itemdom,{i:a})).appendTo(t).addClass("scoreitem").data("scoreitem",e)})),a?s:r},d=function(e,a){var i=a.find(".scoreitem").outerHeight(),n=Number(a.find(".scoreitem").first().data("scoreitem")),o=Number(e),r=1e3/(n>o?9-Math.abs(n-o):o-n);if(!(r<Number.POSITIVE_INFINITY)){if(!t)return;r=1e3/(5*Math.random()+5|0)}var s=function(){a.animate({"margin-top":-1*i},r,"linear",(function(){a.css({"margin-top":0}),a.find(".scoreitem").first().appendTo(a),a.find(".scoreitem").first().data("scoreitem")!=e&&s()}))};s()};return i.map((function(a,t){if((t=$(t)).data("score")){var i=t.data("score");n=i.e,r=i.arr,s=i.decimalarr;var o=(e=n.decimal?Number(e).toFixed(n.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(n.index&&o.length-n.index>0&&(o=e.split(".")[0].substr(o.length-n.index,n.index).split("").reverse()),o.length>r.length){a=r.length;for(var c=o.length-a,m=0;m<c;m++)n.space&&m+a<o.length&&(m+a)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(t),l(t)}else for(c=r.length-o.length,m=0;m<c;m++)o.push("0");$.each(o,(function(e,a){d(a,r[e])})),n.decimal&&$.each(e.split(".")[1].split(""),(function(e,a){d(a,s[e])}))}else{t.addClass("score");o=(e=n.decimal?Number(e).toFixed(n.decimal):Math.round(Number(e))+""||"0").split(".")[0].split("").reverse();if(n.index)for(m=0;m<n.index;m++)l(t),n.space&&m<o.length-1&&(m+1)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(t);else $.each(o,(function(e,a){l(t),n.space&&e<o.length-1&&(e+1)%n.space==0&&$(n.spacedom).addClass("scorespace").prependTo(t)}));if($.each(o,(function(e,a){d(a,r[e])})),n.decimal){$(n.decimaldom).addClass("decimalspace").appendTo(t);for(m=0;m<n.decimal;m++)l(t,!0);$.each(e.split(".")[1].split(""),(function(e,a){d(a,s[e])}))}t.data("score",{decimalarr:s,arr:r,e:n})}})),i}})}(jQuery,window,document)},,,,function(e,a,t){},,,,,function(e,a,t){"use strict";t.r(a);t(1),t(6);var i=t(0),n=(t(2),{markData:[{name:"广西",coord:[108.399398,22.817954],location:[108.418194,22.839025]},{name:"浙江",coord:[120.126623,30.225902],location:[121.153576,28.987459]},{name:"浙江",coord:[120.168992,30.259104],location:[121.153576,28.987459]},{name:"北京",coord:[116.320328,39.883822],location:[116.403613,39.915185]}],mapData:[{name:"广西",en:"guangxi",coord:[108.418194,22.839025]},{name:"浙江",en:"zhejiang",coord:[121.153576,28.987459]},{name:"北京",en:"beijing",coord:[116.403613,39.915185]}],data:[{baseData:{name:"丰台区-西三环南路14号院首科大厦智慧停车项目",province:"北京",city:"北京",total:1e3,used:253,company:"北京静态交通投资运营有限公司",No:"CH-BJ-32124000032",addr:"北京市-丰台区-西三环南路14号院首科大厦",type:"停车场",admin:"王福文",adminTel:"18688782992",begin:"2020-03",time:"1年3个月",coord:[116.320328,39.883822],location:[116.403613,39.915185]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}},{baseData:{name:"南宁市-青秀区-华润万象城智慧停车项目",province:"广西",city:"南宁",total:5e3,used:3281,company:"华润置地（南宁）有限公司",No:"CH-GXNN-32124000024",addr:"南宁市民族大道136号",type:"停车场",admin:"朱婉璇",adminTel:"13372258868",begin:"2020-10",time:"8个月",coord:[108.399398,22.817954],location:[108.418194,22.839025]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}},{baseData:{name:"西湖区-杭州大厦A座智慧停车项目",province:"浙江",city:"杭州",total:2500,used:683,company:"杭州大厦运营公司",No:"CH-ZJHZ-32124000038",addr:"杭州市西湖区武林广场1号",type:"停车场",admin:"李国庆",adminTel:"13872379001",begin:"2020-12",time:"7个月",coord:[120.126623,30.225902],location:[121.153576,28.987459]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}},{baseData:{name:"上城区-湖滨银泰广场智慧停车项目",province:"浙江",city:"杭州",total:2e3,used:891,company:"北京银泰裕盛商业管理顾问有限公司",No:"CH-ZJHZ-32124000029",addr:"杭州市上城区东坡路7号",type:"停车场",admin:"林一岚",adminTel:"18599226224",begin:"2021-01",time:"6个月",coord:[120.168992,30.259104],location:[121.153576,28.987459]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}}],provinceData:{guangxi:[{baseData:{name:"南宁市-青秀区-华润万象城智慧停车项目",province:"广西",city:"南宁",total:5e3,used:3281,company:"华润置地（南宁）有限公司",No:"CH-GXNN-32124000024",addr:"南宁市民族大道136号",type:"停车场",admin:"朱婉璇",adminTel:"13372258868",begin:"2020-10",time:"8个月",coord:[108.399398,22.817954],location:[108.418194,22.839025]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}}],zhejiang:[{baseData:{name:"上城区-湖滨银泰广场智慧停车项目",province:"浙江",city:"杭州",total:2e3,used:891,company:"北京银泰裕盛商业管理顾问有限公司",No:"CH-ZJHZ-32124000029",addr:"杭州市上城区东坡路7号",type:"停车场",admin:"林一岚",adminTel:"18599226224",begin:"2021-01",time:"6个月",coord:[120.168992,30.259104],location:[121.153576,28.987459]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}},{baseData:{name:"西湖区-杭州大厦A座智慧停车项目",province:"浙江",city:"杭州",total:2500,used:683,company:"杭州大厦运营公司",No:"CH-ZJHZ-32124000038",addr:"杭州市西湖区武林广场1号",type:"停车场",admin:"李国庆",adminTel:"13872379001",begin:"2020-12",time:"7个月",coord:[120.126623,30.225902],location:[121.153576,28.987459]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}}],beijing:[{baseData:{name:"丰台区-西三环南路14号院首科大厦智慧停车项目",province:"北京",city:"北京",total:1e3,used:253,company:"北京静态交通投资运营有限公司",No:"CH-BJ-32124000032",addr:"北京市-丰台区-西三环南路14号院首科大厦",type:"停车场",admin:"王福文",adminTel:"18688782992",begin:"2020-03",time:"1年3个月",coord:[116.320328,39.883822],location:[116.403613,39.915185]},statisticData:{income:{yearIncome:1052.25,monthIncome:89.14,dayIncome:3.27,yearOrder:80.43,monthOrder:6.72,dayOrder:.22,orderIncome:18.8},useRate:{use:4522,averageUse:232,useRate:45.22,averageRate:32.44,turnover:7.4,averageTurnover:7.8}},lineData:{day:[583,483,392,192,52,52,58,88,390,1390,1829,1729,1129,1229,1232,832,729,889,1729,1819,1929,1769,1629,829,538],month:[3782,2234,3435,5342,2342,6324],year:[234245,234235,251245,29174]},pieData:{day:[{name:"第三方",value:5.9},{name:"支付宝",value:35.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],month:[{name:"第三方",value:6.9},{name:"支付宝",value:34.3},{name:"现金",value:17.6},{name:"微信",value:41.2}],year:[{name:"第三方",value:7.9},{name:"支付宝",value:33.3},{name:"现金",value:17.6},{name:"微信",value:41.2}]},video:{}}]}});const o="image://../image/icon.png",r="image://../image/icon-l-active.png";let s;function l(e){let a=[];e.map(e=>{a.push(e.baseData)});let t=doT.template($("#J_lb_list_tmp").html());$("#J_lb_list").html(t(a))}function d(e){let a=doT.template($("#J_right_tmp").html());$("#J_right_info").html(a(e.baseData)),function(e){$(".statistic-info .year-income").score(e.income.yearIncome,{decimal:2}),$(".statistic-info .month-income").score(e.income.monthIncome,{decimal:2}),$(".statistic-info .day-income").score(e.income.dayIncome,{decimal:2}),$(".statistic-info .year-order").score(e.income.yearOrder,{decimal:2}),$(".statistic-info .month-order").score(e.income.monthOrder,{decimal:2}),$(".statistic-info .day-order").score(e.income.dayOrder,{decimal:2}),$(".statistic-info .order-income").score(e.income.orderIncome,{decimal:2}),$(".statistic-info .now-used").score(e.useRate.use),$(".statistic-info .average-used").score(e.useRate.averageUse),$(".statistic-info .now-rate").score(e.useRate.useRate,{decimal:2}),$(".statistic-info .average-rate").score(e.useRate.averageRate,{decimal:2}),$(".statistic-info .now-turnover").score(e.useRate.turnover,{decimal:2}),$(".statistic-info .average-turnover").score(e.useRate.averageTurnover,{decimal:2}),$("#J_statistic_tabs a").on("click",(function(){$("#J_statistic_tabs a").removeClass("active"),$(this).addClass("active");let e=$(this).data("name");$(".item-wrap").hide(),$(`#J_${e}_wrap`).show()}))}(e.statisticData),function(e){let a={grid:{top:46,left:46,right:18,bottom:40},xAxis:{type:"category",boundaryGap:!1,data:i.a.getHours(),axisLabel:{show:!0,fontSize:12,color:"#93B0EB",interval:4},axisLine:{show:!0,lineStyle:{color:"#93B0EB"}},axisTick:{show:!0,interval:1}},yAxis:{type:"value",name:"单位：元",nameTextStyle:{fontSize:12,color:"#93B0EB",padding:[0,0,0,-30]},splitNumber:4,axisLabel:{show:!0,fontSize:12,color:"#93B0EB",interval:0},axisLine:{show:!1},splitLine:{lineStyle:{color:"#93B0EB"}}},series:[{type:"line",symbol:"none",smooth:.1,lineStyle:{color:"#0084FF",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 132, 255, 0.5)"},{offset:1,color:"rgba(0, 119, 255, 0)"}]}},markLine:{symbol:["none","none"],label:{show:!1}},data:e.lineData.day}]},t=echarts.init(document.getElementById("J_line"));t.setOption(a);let n=Object.assign({},a,{visualMap:{type:"piecewise",show:!1,dimension:0,seriesIndex:0,pieces:[{gt:9,lt:11,color:"#FFAB00"},{gt:18,lt:22,color:"#FFAB00"}]}});n.series[0].areaStyle={},echarts.init(document.getElementById("J_line_today")).setOption(n);let o={series:[{type:"pie",radius:["29%","62%"],center:["46%","50%"],color:["#34495E ","#007AFF","#FF9500","#2ECC71"],label:{color:"#fff",fontSize:12,formatter:function(e){return e.name+"\n"+e.value+"%"}},labelLine:{length:15,length2:10},data:e.pieData.day}]},r=echarts.init(document.getElementById("J_pie"));r.setOption(o),$("#J_line_tabs a").on("click",(function(n){$("#J_line_tabs a").removeClass("active"),$(this).addClass("active");let s=$(this).data("name");"day"==s?($("#J_line").hide(),$("#J_line_today").show()):($("#J_line_today").hide(),$("#J_line").show(),"month"==s?(a.xAxis.data=i.a.getDays(),a.xAxis.axisLabel.interval=1):"year"==s&&(a.xAxis.data=i.a.getMonth(),a.xAxis.axisLabel.interval=1),a.series[0].data=e.lineData[s],t.setOption(a)),o.series[0].data=e.pieData[s],r.setOption(o)}))}({lineData:e.lineData,pieData:e.pieData})}function c(e,a){for(var t=e.length-1;t>=0;t--)if(e[t].coord[0]==a[0]&&e[t].coord[1]==a[1])return t;return-1}function m({map:e="china",mapData:a,markData:t}){return{geo:[{map:e,zoom:1.22,aspectScale:.75,roam:!1}],series:[{type:"map",map:e,z:2,aspectScale:.75,zoom:1.22,label:{show:!0,color:"#8FC5FF",fontSize:18},itemStyle:{areaColor:"#143D90",borderColor:"#0A1942",borderWidth:.5},emphasis:{label:{color:"#000"},itemStyle:{areaColor:"#FFCC00 "}},data:a,markPoint:{symbol:o,symbolSize:[29,34],symbolOffset:[0,-17],label:{show:!1},data:t}}]}}$(document).ready((function(){i.a.headerTime(),i.a.initMenu(),l(n.data),d(n.data[0]);let e=[],a=n.markData;n.mapData.map(a=>{e.push(Object.assign({},a,{itemStyle:{areaColor:"#008EFA"}}))}),console.log(a,n.data[0].baseData.coord);let t=c(a,n.data[0].baseData.coord),u=c(e,n.data[0].baseData.location);e[u].selected=!0,a[t].symbol=r,a[t].symbolSize=[56,66],a[t].symbolOffset=[0,-33];let p=m({mapData:e,markData:a}),f=echarts.init(document.getElementById("J_map"));f.setOption(p),console.log(p);var g=0,v=u,h=t;b(e,p,n.data);function b(e,t,i){g=0,s&&clearInterval(s),i.length<=1||(s=setInterval(()=>{var n;g=(g+1)%i.length,(n=$("#J_lb_list")).animate({marginTop:-30},600,"linear",(function(){n.css({marginTop:0}),n.find("li:eq(0)").appendTo(n)})),d(i[g]);let s=c(a,i[g].baseData.coord),l=c(e,i[g].baseData.location);console.log("******",l,s,h,g),t.series[0].data[v].selected=!1,t.series[0].data[l].selected=!0,a[s].symbol=r,a[s].symbolSize=[56,66],a[s].symbolOffset=[0,-33],a[h].symbol=o,a[h].symbolOffset=[0,-17],a[h].symbolSize=[29,34],t.series[0].markPoint.data=a,f.setOption(t),v=l,h=s,console.log(g,a)},3e3))}function y(e){s&&clearInterval(s),e[v].selected=!1,e[g].selected=!1,a[h].symbol=o,a[h].symbolOffset=[0,-17],a[h].symbolSize=[29,34]}function x(e,t,i){if("markPoint"==i.componentType){e.series[0].data[v].selected=!1;let s,m=c(t,i.data.location),u=c(a,i.data.coord);e.series[0].data[m]&&(e.series[0].data[v].selected=!1,e.series[0].data[m].selected=!0,a[u].symbol=r,a[u].symbolSize=[56,66],a[u].symbolOffset=[0,-33],a[h].symbol=o,a[h].symbolSize=[29,34],a[h].symbolOffset=[0,-17],e.series[0].markPoint.data=a,v=m,h=u),f.setOption(e);for(let e=0;e<n.data.length;e++)if(n.data[e].baseData.coord[0]==i.data.coord[0]&&n.data[e].baseData.coord[1]==i.data.coord[1]){s=e;break}s>=0&&(d(n.data[s]),l([n.data[s]]))}}f.on("click",(function t(i){if(console.log(i),s&&y(e),"markPoint"==i.componentType){p.series[0].data[v].selected=!1;let t,s=c(e,i.data.location),m=c(a,i.data.coord);p.series[0].data[s]&&(p.series[0].data[v].selected=!1,p.series[0].data[s].selected=!0,a[m].symbol=r,a[m].symbolOffset=[0,-33],a[m].symbolSize=[56,66],a[h].symbol=o,a[h].symbolOffset=[0,-17],a[h].symbolSize=[29,34],p.series[0].markPoint.data=a,v=s,h=m),f.setOption(p);for(let e=0;e<n.data.length;e++)if(n.data[e].baseData.coord[0]==i.data.coord[0]&&n.data[e].baseData.coord[1]==i.data.coord[1]){t=e;break}if(t>=0){console.log(t),d(n.data[t]),l(n.data);var u=$("#J_lb_list");u.animate({marginTop:30*-t},600,"linear",(function(){u.css({marginTop:0});for(let e=0;e<t;e++)u.find("li:eq(0)").appendTo(u)}))}}else{if(!i.data)return;let u=i.data.en;$.getScript(`../lib/map/${u}.js`,(function(){let g=[];n.provinceData[u].map((e,a)=>{g.push({name:e.baseData.city+"市",coord:e.baseData.location,itemStyle:{areaColor:"#008EFA"}})});let w=c(g,n.provinceData[u][0].baseData.location),D=c(a,n.provinceData[u][0].baseData.coord);g[w].selected=!0,a[h].symbol=o,a[h].symbolSize=[29,34],a[h].symbolOffset=[0,-17],a[D].symbol=r,a[D].symbolSize=[56,66],a[D].symbolOffset=[0,-33],p.series[0].markPoint.data=a;let C=m({map:i.name,mapData:g,markData:a});console.log(g,C,a,D),f.setOption(C),v=w,h=D,l(n.provinceData[u]),d(n.provinceData[u][0]),b(g,C,n.provinceData[u]),f.off("click",t),f.on("click",x.bind(this,C,g)),$("#J_map_icon").show(),$("#J_map_icon").on("click",(function(){s&&y(e),$("#J_map_icon").hide();let i=c(a,n.data[0].baseData.coord),o=c(e,n.data[0].baseData.location);e[o].selected=!0,a[i].symbol=r,a[i].symbolSize=[56,66],a[i].symbolOffset=[0,-33];let u=m({mapData:e,markData:a});e[o].selected=!0,f.setOption(u),v=o,h=i,b(e,u,n.data),f.on("click",t),l(n.data),d(n.data[0])}))}))}})),$(".top-number-bar .project").score(10),$(".top-number-bar .position").score(45090,{space:3}),$(".top-number-bar .total").score(87043,{space:3})}))}]);